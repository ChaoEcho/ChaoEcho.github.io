<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JavaWEB后端 | EchoChao</title>
  <meta name="keywords" content=" 笔记 ">
  <meta name="description" content="JavaWEB后端 | EchoChao">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Oops～，我崩溃了！找不到你想要的页面了">
<meta property="og:type" content="website">
<meta property="og:title" content="404">
<meta property="og:url" content="http://echochao.xyz/404.html">
<meta property="og:site_name" content="EchoChao">
<meta property="og:description" content="Oops～，我崩溃了！找不到你想要的页面了">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-10-28T08:41:10.000Z">
<meta property="article:modified_time" content="2020-11-29T09:39:10.000Z">
<meta property="article:author" content="EchoChao">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.gif">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/brown-paper.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="EchoChao" type="application/atom+xml">
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.gif" />
</a>
<div class="author">
    <span>EchoChao</span>
</div>

<div class="icon">
    
        
        <a title="github" href="https://github.com/ChaoEcho" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
        <a title="email" href="mailto:echochao@126.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
    
</div>




<ul>
    <li><div class="all active" data-rel="全部文章">全部文章<small>(28)</small></div></li>
    
        
            
        
    
        
            
            <li><div data-rel="工程项目"><i class="fold iconfont icon-right"></i>工程项目<small>(4)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="工程项目<--->贪吃蛇">贪吃蛇<small>(4)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="实用工具"><i class="fold iconfont icon-right"></i>实用工具<small>(4)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="实用工具<--->Git">Git<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="实用工具<--->Linux">Linux<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="实用工具<--->PhotoShop">PhotoShop<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="算法学习"><i class="fold iconfont icon-right"></i>算法学习<small>(5)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="算法学习<--->算法基础课">算法基础课<small>(5)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="往昔笔记"><i class="fold iconfont icon-right"></i>往昔笔记<small>(9)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="往昔笔记<--->C语言">C语言<small>(3)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="往昔笔记<--->JavaSE">JavaSE<small>(4)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="Java"><i class="fold iconfont icon-right"></i>Java<small>(5)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Java<--->JavaSE">JavaSE<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Java<--->JavaWeb">JavaWeb<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Java<--->Maven">Maven<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Java<--->MySQL">MySQL<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="28">
<input type="hidden" id="yelog_site_word_count" value="74.5k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>笔记</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>二分查找</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>归并排序</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>快速排序</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>前缀和</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>README</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a id="top" class="全部文章 Java JavaSE "
           href="/posts/9db1.html"
           data-tag="笔记"
           data-author="" >
            <span class="post-title" title="JavaSE进阶笔记">JavaSE进阶笔记</span>
            <span class="post-date" title="2021-05-29 12:16:31">2021/05/29</span>
        </a>
        
        <a  class="全部文章 算法学习 算法基础课 "
           href="/posts/6871.html"
           data-tag="前缀和"
           data-author="" >
            <span class="post-title" title="前缀和">前缀和</span>
            <span class="post-date" title="2021-08-19 13:41:34">2021/08/19</span>
        </a>
        
        <a  class="全部文章 "
           href="/posts/9234.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="差分">差分</span>
            <span class="post-date" title="2021-08-19 13:41:27">2021/08/19</span>
        </a>
        
        <a  class="全部文章 算法学习 算法基础课 "
           href="/posts/2c2a.html"
           data-tag="快速排序"
           data-author="" >
            <span class="post-title" title="快速排序">快速排序</span>
            <span class="post-date" title="2021-08-19 13:41:10">2021/08/19</span>
        </a>
        
        <a  class="全部文章 算法学习 算法基础课 "
           href="/posts/f8df.html"
           data-tag="归并排序"
           data-author="" >
            <span class="post-title" title="归并排序">归并排序</span>
            <span class="post-date" title="2021-08-19 13:40:58">2021/08/19</span>
        </a>
        
        <a  class="全部文章 算法学习 算法基础课 "
           href="/posts/61ce.html"
           data-tag="二分查找"
           data-author="" >
            <span class="post-title" title="浮点数二分">浮点数二分</span>
            <span class="post-date" title="2021-08-19 13:40:43">2021/08/19</span>
        </a>
        
        <a  class="全部文章 算法学习 算法基础课 "
           href="/posts/fca8.html"
           data-tag="二分查找"
           data-author="" >
            <span class="post-title" title="整数二分">整数二分</span>
            <span class="post-date" title="2021-08-19 13:40:36">2021/08/19</span>
        </a>
        
        <a  class="全部文章 Java JavaWeb "
           href="/posts/2250.html"
           data-tag="笔记"
           data-author="" >
            <span class="post-title" title="JavaWEB后端">JavaWEB后端</span>
            <span class="post-date" title="2021-08-19 13:34:10">2021/08/19</span>
        </a>
        
        <a  class="全部文章 Java JavaWeb "
           href="/posts/c513.html"
           data-tag="笔记"
           data-author="" >
            <span class="post-title" title="WEB前端">WEB前端</span>
            <span class="post-date" title="2021-08-19 13:33:49">2021/08/19</span>
        </a>
        
        <a  class="全部文章 Java Maven "
           href="/posts/70a4.html"
           data-tag="笔记"
           data-author="" >
            <span class="post-title" title="Maven初步学习">Maven初步学习</span>
            <span class="post-date" title="2021-08-19 13:31:54">2021/08/19</span>
        </a>
        
        <a  class="全部文章 工程项目 贪吃蛇 "
           href="/posts/594b.html"
           data-tag="README"
           data-author="" >
            <span class="post-title" title="README-贪吃蛇">README-贪吃蛇</span>
            <span class="post-date" title="2021-08-19 13:27:42">2021/08/19</span>
        </a>
        
        <a  class="全部文章 Java MySQL "
           href="/posts/b706.html"
           data-tag="笔记"
           data-author="" >
            <span class="post-title" title="MySQL初步学习">MySQL初步学习</span>
            <span class="post-date" title="2021-08-19 13:24:47">2021/08/19</span>
        </a>
        
        <a  class="全部文章 往昔笔记 "
           href="/posts/f760.html"
           data-tag="README"
           data-author="" >
            <span class="post-title" title="README-往昔笔记">README-往昔笔记</span>
            <span class="post-date" title="2021-08-19 12:13:05">2021/08/19</span>
        </a>
        
        <a  class="全部文章 工程项目 贪吃蛇 "
           href="/posts/4e13.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="贪吃蛇小历程_3">贪吃蛇小历程_3</span>
            <span class="post-date" title="2021-03-22 13:16:30">2021/03/22</span>
        </a>
        
        <a  class="全部文章 实用工具 PhotoShop "
           href="/posts/2630.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="PS笔记">PS笔记</span>
            <span class="post-date" title="2021-03-22 13:16:30">2021/03/22</span>
        </a>
        
        <a  class="全部文章 实用工具 Git "
           href="/posts/8161.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Git使用笔记">Git使用笔记</span>
            <span class="post-date" title="2021-03-22 13:16:30">2021/03/22</span>
        </a>
        
        <a  class="全部文章 实用工具 Git "
           href="/posts/398.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Git大佬总结笔记">Git大佬总结笔记</span>
            <span class="post-date" title="2021-03-22 13:16:30">2021/03/22</span>
        </a>
        
        <a  class="全部文章 实用工具 Linux "
           href="/posts/86b7.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Linux学习笔记">Linux学习笔记</span>
            <span class="post-date" title="2021-03-22 13:16:30">2021/03/22</span>
        </a>
        
        <a  class="全部文章 往昔笔记 C语言 "
           href="/posts/41f5.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="关于链表与数组的一点想法">关于链表与数组的一点想法</span>
            <span class="post-date" title="2021-03-22 13:16:30">2021/03/22</span>
        </a>
        
        <a  class="全部文章 往昔笔记 C语言 "
           href="/posts/522c.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C语言知识点&amp;&amp;易错点总结">C语言知识点&amp;&amp;易错点总结</span>
            <span class="post-date" title="2021-03-22 13:16:30">2021/03/22</span>
        </a>
        
        <a  class="全部文章 往昔笔记 C语言 "
           href="/posts/c940.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C语言中二维数组与指针的关系">C语言中二维数组与指针的关系</span>
            <span class="post-date" title="2021-03-22 13:16:30">2021/03/22</span>
        </a>
        
        <a  class="全部文章 工程项目 贪吃蛇 "
           href="/posts/8ed2.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="贪吃蛇小历程_2">贪吃蛇小历程_2</span>
            <span class="post-date" title="2021-03-22 13:15:00">2021/03/22</span>
        </a>
        
        <a  class="全部文章 往昔笔记 JavaSE "
           href="/posts/9418.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java-day04笔记">Java-day04笔记</span>
            <span class="post-date" title="2020-12-27 11:16:23">2020/12/27</span>
        </a>
        
        <a  class="全部文章 往昔笔记 JavaSE "
           href="/posts/546e.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java-day03笔记">Java-day03笔记</span>
            <span class="post-date" title="2020-12-26 18:28:49">2020/12/26</span>
        </a>
        
        <a  class="全部文章 往昔笔记 JavaSE "
           href="/posts/947e.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java-day02笔记">Java-day02笔记</span>
            <span class="post-date" title="2020-12-25 16:19:03">2020/12/25</span>
        </a>
        
        <a  class="全部文章 往昔笔记 JavaSE "
           href="/posts/944d.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java-day01笔记">Java-day01笔记</span>
            <span class="post-date" title="2020-12-24 16:12:34">2020/12/24</span>
        </a>
        
        <a  class="全部文章 工程项目 贪吃蛇 "
           href="/posts/8f92.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="贪吃蛇小历程_1">贪吃蛇小历程_1</span>
            <span class="post-date" title="2020-12-13 12:00:00">2020/12/13</span>
        </a>
        
        <a  class="全部文章 往昔笔记 "
           href="/posts/f929.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="我的第一篇博客">我的第一篇博客</span>
            <span class="post-date" title="2020-11-27 23:48:50">2020/11/27</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Java学习/JavaWEB/JavaWeb后端" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">JavaWEB后端</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Java">Java</a> > 
            
            <a  data-rel="Java&lt;---&gt;JavaWeb">JavaWeb</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">笔记</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2021-08-19 13:35:51'>2021-08-19 13:34</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:15.7k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaWEB%E7%AC%94%E8%AE%B0"><span class="toc-text">JavaWEB笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-XML"><span class="toc-text">一. XML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">1. 基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%B8%BB%E8%A6%81%E4%BD%9C%E7%94%A8"><span class="toc-text">2. 主要作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="toc-text">3. 语法格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B"><span class="toc-text">4. 实际案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-xml%E7%9A%84%E8%A7%A3%E6%9E%90"><span class="toc-text">5. xml的解析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">5.1 基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-dom4j%E8%A7%A3%E6%9E%90%E6%8A%80%E6%9C%AF"><span class="toc-text">5.2 dom4j解析技术</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-Tomcat"><span class="toc-text">二. Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-JavaWeb"><span class="toc-text">1. JavaWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">1.1 基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-Web%E8%B5%84%E6%BA%90%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">1.2 Web资源的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E5%B8%B8%E7%94%A8%E7%9A%84Web%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">1.3 常用的Web服务器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2. 基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">2.1 目录介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">2.2 启动服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E6%89%93%E5%BC%80%E6%88%90%E5%8A%9F"><span class="toc-text">测试是否打开成功</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%85%B3%E9%97%AD%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">2.3 关闭服务器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-%E4%BF%AE%E6%94%B9%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="toc-text">2.4 修改端口号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-%E9%83%A8%E7%BD%B2%E5%B7%A5%E7%A8%8B"><span class="toc-text">2.5 部署工程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-text">方法一</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4"><span class="toc-text">步骤</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE"><span class="toc-text">访问</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-text">方法二</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">步骤</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE-1"><span class="toc-text">访问</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Root%E5%B7%A5%E7%A8%8B%E7%9A%84%E8%AE%BF%E9%97%AE"><span class="toc-text">Root工程的访问</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE"><span class="toc-text">2.6 常见配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-1-%E4%BF%AE%E6%94%B9%E5%B7%A5%E7%A8%8B%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84"><span class="toc-text">2.6.1 修改工程访问路径</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-2-%E4%BF%AE%E6%94%B9%E7%AB%AF%E5%8F%A3%E5%8F%B7%E4%BB%A5%E5%8F%8A%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="toc-text">2.6.2 修改端口号以及热部署</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Servlet%E7%B1%BB"><span class="toc-text">3. Servlet类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">3.1 基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-1-%E5%AE%9E%E7%8E%B0Servlet%E6%8E%A5%E5%8F%A3"><span class="toc-text">3.1.1 实现Servlet接口</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-2-%E7%BB%A7%E6%89%BFHttpServlet%E7%B1%BB"><span class="toc-text">3.1.2 继承HttpServlet类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-3-%E5%BF%85%E8%A6%81%E9%85%8D%E7%BD%AE"><span class="toc-text">3.1.3 必要配置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">3.2 生命周期</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-ServletConfig%E7%B1%BB"><span class="toc-text">4. ServletConfig类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E5%9F%BA%E6%9C%AC%E4%BD%9C%E7%94%A8"><span class="toc-text">4.1 基本作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8"><span class="toc-text">4.2 常见使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82"><span class="toc-text">4.3 使用细节</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-ServletContext%E7%B1%BB"><span class="toc-text">5. ServletContext类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-1"><span class="toc-text">5.1 基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-%E5%9F%9F%E5%AF%B9%E8%B1%A1"><span class="toc-text">5.2  域对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-%E5%9F%BA%E6%9C%AC%E4%BD%9C%E7%94%A8"><span class="toc-text">5.3 基本作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B"><span class="toc-text">5.4 实际案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-HTTP%E5%8D%8F%E8%AE%AE"><span class="toc-text">6. HTTP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">6.1 基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-%E8%AF%B7%E6%B1%82%E7%9A%84HTTP%E5%8D%8F%E8%AE%AE%E6%A0%BC%E5%BC%8F"><span class="toc-text">6.2 请求的HTTP协议格式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-1-Get%E8%AF%B7%E6%B1%82"><span class="toc-text">6.2.1 Get请求</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-2-Post%E8%AF%B7%E6%B1%82"><span class="toc-text">6.2.2 Post请求</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-3-%E5%B8%B8%E8%A7%81GET%E5%92%8CPOST%E8%AF%B7%E6%B1%82"><span class="toc-text">6.2.3 常见GET和POST请求</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-4-%E5%93%8D%E5%BA%94%E6%A0%BC%E5%BC%8F"><span class="toc-text">6.2.4 响应格式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-5-%E5%B8%B8%E7%94%A8%E7%9A%84%E5%93%8D%E5%BA%94%E7%A0%81%E8%AF%B4%E6%98%8E"><span class="toc-text">6.2.5 常用的响应码说明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIME%E7%B1%BB%E5%9E%8B"><span class="toc-text">MIME类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-HttpServletRequest%E7%B1%BB"><span class="toc-text">7. HttpServletRequest类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">7.1 基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">7.2 常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-%E8%A7%A3%E5%86%B3%E4%B9%B1%E7%A0%81"><span class="toc-text">7.3 解决乱码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-4-%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-text">7.4 请求转发</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#7-4-1-%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">7.4.1 简单介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-4-2-%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8"><span class="toc-text">7.4.2 实际使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-4-3-%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">7.4.3 请求转发的特点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-5-base%E6%A0%87%E7%AD%BE"><span class="toc-text">7.5 base标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-6-%E7%9A%84%E4%B8%8D%E5%90%8C%E6%84%8F%E4%B9%89"><span class="toc-text">7.6 &#x2F;的不同意义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-HttpServletResponse%E7%B1%BB"><span class="toc-text">8. HttpServletResponse类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">8.1 基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-%E4%B8%A4%E4%B8%AA%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-text">8.2 两个输出流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-%E4%BC%A0%E6%95%B0%E6%8D%AE%E7%BB%99%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-text">8.3 传数据给客户端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-%E8%A7%A3%E5%86%B3%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="toc-text">8.4 解决中文乱码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-1"><span class="toc-text">方法一</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="toc-text">方式二</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-5-%E8%AF%B7%E6%B1%82%E9%87%8D%E5%AE%9A%E5%90%910030000"><span class="toc-text">8.5 请求重定向0030000</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#8-5-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">8.5.1 基本介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-5-2-%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8"><span class="toc-text">8.5.2 实际使用</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-2"><span class="toc-text">方法一</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C-1"><span class="toc-text">方法二</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-5-3-%E8%AF%B7%E6%B1%82%E9%87%8D%E5%AE%9A%E5%90%91%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">8.5.3 请求重定向的特点</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-JSP"><span class="toc-text">三. JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-1"><span class="toc-text">1. 基本介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E4%BD%9C%E7%94%A8"><span class="toc-text">1.1 基本作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-JSP%E6%9C%AC%E8%B4%A8"><span class="toc-text">1.2 JSP本质</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">2. 基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%A4%B4%E9%83%A8%E7%9A%84page%E6%8C%87%E4%BB%A4"><span class="toc-text">2.1 头部的page指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC"><span class="toc-text">2.2 常用脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-1-%E5%A3%B0%E6%98%8E%E8%84%9A%E6%9C%AC"><span class="toc-text">2.2.1 声明脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#a-%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-text">a. 基本格式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#b-%E5%A3%B0%E6%98%8E%E5%86%85%E5%AE%B9"><span class="toc-text">b. 声明内容</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-2-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%84%9A%E6%9C%AC"><span class="toc-text">2.2.2 表达式脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#a-%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F-1"><span class="toc-text">a. 基本格式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#b-%E8%84%9A%E6%9C%AC%E4%BD%9C%E7%94%A8"><span class="toc-text">b. 脚本作用</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#c-%E8%84%9A%E6%9C%AC%E7%89%B9%E7%82%B9"><span class="toc-text">c. 脚本特点</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-3-%E4%BB%A3%E7%A0%81%E8%84%9A%E6%9C%AC"><span class="toc-text">2.2.3 代码脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#a-%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F-2"><span class="toc-text">a. 基本格式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#b-%E8%84%9A%E6%9C%AC%E4%BD%9C%E7%94%A8-1"><span class="toc-text">b. 脚本作用</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#c-%E8%84%9A%E6%9C%AC%E7%89%B9%E7%82%B9-1"><span class="toc-text">c. 脚本特点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E4%B8%89%E7%A7%8D%E6%B3%A8%E9%87%8A"><span class="toc-text">2.3 三种注释</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-1-html%E6%B3%A8%E9%87%8A"><span class="toc-text">2.3.1 html注释</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-2-java%E6%B3%A8%E9%87%8A"><span class="toc-text">2.3.2 java注释</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-3-jsp%E6%B3%A8%E9%87%8A"><span class="toc-text">2.3.3 jsp注释</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-text">3. 内置对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%9F%9F%E5%AF%B9%E8%B1%A1"><span class="toc-text">4. 域对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%BE%93%E5%87%BA%E6%B5%81%E5%AF%B9%E6%AF%94"><span class="toc-text">5. 输出流对比</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-1-%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">5.1.1 简单介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-2-%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-text">5.1.2 执行顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-3-%E7%BB%86%E8%8A%82%E6%8F%90%E7%A4%BA"><span class="toc-text">5.1.3 细节提示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%B8%B8%E7%94%A8%E6%A0%87%E7%AD%BE"><span class="toc-text">6. 常用标签</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-%E9%9D%99%E6%80%81%E5%8C%85%E5%90%AB"><span class="toc-text">6.1 静态包含</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-1-1-%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-text">6.1.1 基本格式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-1-2-%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">6.1.2 简单介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-1-3-%E7%89%B9%E7%82%B9%E8%AF%B4%E6%98%8E"><span class="toc-text">6.1.3 特点说明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-%E5%8A%A8%E6%80%81%E5%8C%85%E5%90%AB"><span class="toc-text">6.2 动态包含</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-1-%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-text">6.2.1 基本格式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-2-%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">6.2.2 简单介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-3-%E7%89%B9%E7%82%B9%E8%AF%B4%E6%98%8E"><span class="toc-text">6.2.3 特点说明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-%E6%A0%87%E7%AD%BE%E8%BD%AC%E5%8F%91"><span class="toc-text">6.3 标签转发</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-3-1-%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-text">6.3.1 基本格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Listener%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">7. Listener监听器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-1"><span class="toc-text">7.1 基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-ServletContextListener%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">7.2 ServletContextListener监听器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#7-2-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">7.2.1 基本介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-2-2-%E7%9B%91%E5%90%AC%E6%96%B9%E6%B3%95"><span class="toc-text">7.2.2 监听方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-2-3-%E5%88%9B%E5%BB%BA%E6%AD%A5%E9%AA%A4"><span class="toc-text">7.2.3 创建步骤</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">四. EL表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-2"><span class="toc-text">1. 基本介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E7%AE%80%E5%8D%95%E8%83%8C%E6%99%AF"><span class="toc-text">1.1 简单背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-text">1.2 基本格式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%BE%93%E5%87%BA%E6%95%B0%E6%8D%AE"><span class="toc-text">2. 输出数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E6%90%9C%E7%B4%A2%E6%95%B0%E6%8D%AE%E9%A1%BA%E5%BA%8F"><span class="toc-text">2.1 搜索数据顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B"><span class="toc-text">2.2 实际案例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E6%9C%AC%E8%B4%A8%E5%88%86%E6%9E%90"><span class="toc-text">2.3 本质分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%BF%90%E7%AE%97"><span class="toc-text">3. 运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97"><span class="toc-text">3.1 关系运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-text">3.2 逻辑运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-text">3.3 算数运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-empty%E8%BF%90%E7%AE%97"><span class="toc-text">3.4 empty运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-%E7%82%B9%E8%BF%90%E7%AE%97%E5%92%8C-%E4%B8%AD%E6%8B%AC%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">3.5 .点运算和[]中括号运算符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%9A%90%E5%90%AB%E5%AF%B9%E8%B1%A1"><span class="toc-text">4. 隐含对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">4.1 基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-%E8%8E%B7%E5%8F%96%E5%9B%9B%E4%B8%AA%E7%89%B9%E5%AE%9A%E5%9F%9F%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-text">4.2 获取四个特定域中的数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-pageContext"><span class="toc-text">4.3 pageContext</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-1-%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8"><span class="toc-text">4.3.1 常见使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-2-%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8"><span class="toc-text">4.3.2 实际使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-3-%E4%BC%98%E5%8C%96%E4%BB%A3%E7%A0%81"><span class="toc-text">4.3.3 优化代码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-%E5%85%B6%E4%BB%96%E9%9A%90%E5%90%AB%E5%AF%B9%E8%B1%A1"><span class="toc-text">4.4 其他隐含对象</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-JSTL%E6%A0%87%E7%AD%BE%E5%BA%93"><span class="toc-text">五. JSTL标签库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-3"><span class="toc-text">1. 基本介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E7%AE%80%E5%8D%95%E8%83%8C%E6%99%AF-1"><span class="toc-text">1.1 简单背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E4%BA%94%E4%B8%AA%E6%A0%87%E7%AD%BE%E5%BA%93"><span class="toc-text">1.2 五个标签库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="toc-text">2. 基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E4%BD%BF%E7%94%A8%E5%89%8D%E5%A5%8F"><span class="toc-text">2.1 使用前奏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-core%E6%A0%B8%E5%BF%83%E5%BA%93"><span class="toc-text">2.2 core核心库</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-1-lt-c-set-gt"><span class="toc-text">2.2.1  &lt;c:set &#x2F;&gt;</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-text">作用</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B"><span class="toc-text">实际案例</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-2-lt-c-if-gt"><span class="toc-text">2.2.2 &lt;c:if &#x2F;&gt;</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-1"><span class="toc-text">作用</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-3-lt-c-choose-gt-lt-c-when-gt-lt-c-otherwise-gt"><span class="toc-text">2.2.3 &lt;c:choose&gt;&lt;c:when&gt;&lt;c:otherwise&gt;</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-2"><span class="toc-text">作用</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B-1"><span class="toc-text">实际案例</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-4-lt-c-forEach-gt"><span class="toc-text">2.2.4 &lt;c:forEach &#x2F;&gt;</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-3"><span class="toc-text">作用</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#a-%E9%81%8D%E5%8E%861%E5%88%B010%E8%BE%93%E5%87%BA"><span class="toc-text">a. 遍历1到10输出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#b-%E9%81%8D%E5%8E%86Object%E6%95%B0%E7%BB%84"><span class="toc-text">b. 遍历Object数组</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#c-%E9%81%8D%E5%8E%86Map%E9%9B%86%E5%90%88"><span class="toc-text">c. 遍历Map集合</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#d-%E9%81%8D%E5%8E%86List%E9%9B%86%E5%90%88"><span class="toc-text">d. 遍历List集合</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8E%E4%B8%8B%E8%BD%BD"><span class="toc-text">六. 文件上传与下载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-text">1. 文件上传</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E5%86%85%E5%AE%B9"><span class="toc-text">1.1 基本内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E8%AF%B4%E6%98%8E"><span class="toc-text">1.2 HTTP协议的说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-fileupload%E7%B1%BB%E5%BA%93"><span class="toc-text">1.3 fileupload类库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B"><span class="toc-text">1.4 实际案例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-%E6%AD%A5%E9%AA%A4%E5%88%86%E6%9E%90"><span class="toc-text">1.5 步骤分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-text">2. 文件下载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4"><span class="toc-text">2.1 基本步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E8%A7%A3%E5%86%B3%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-text">2.2 解决乱码问题</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-1-%E8%B0%B7%E6%AD%8C-IE"><span class="toc-text">2.2.1 谷歌&#x2F;IE</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-2-%E7%81%AB%E7%8B%90FireFox"><span class="toc-text">2.2.2 火狐FireFox</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B"><span class="toc-text">2.3 实际案例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-Cookie"><span class="toc-text">七. Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-4"><span class="toc-text">1. 基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Cookie%E4%BD%BF%E7%94%A8"><span class="toc-text">2. Cookie使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%88%9B%E5%BB%BACookie"><span class="toc-text">2.1 创建Cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E8%8E%B7%E5%8F%96Cookie"><span class="toc-text">2.2 获取Cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E4%BF%AE%E6%94%B9Cookie"><span class="toc-text">2.3 修改Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E4%B8%80"><span class="toc-text">方案一</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E4%BA%8C"><span class="toc-text">方案二</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-Cookie%E7%9A%84%E7%94%9F%E5%91%BD%E6%8E%A7%E5%88%B6"><span class="toc-text">2.4 Cookie的生命控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-Cookie%E6%9C%89%E6%95%88%E8%B7%AF%E5%BE%84Path"><span class="toc-text">2.5 Cookie有效路径Path</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%85%8D%E8%BE%93%E5%85%A5%E7%94%A8%E6%88%B7%E5%90%8D%E7%99%BB%E5%BD%95"><span class="toc-text">3. 免输入用户名登录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB-Session%E4%BC%9A%E8%AF%9D"><span class="toc-text">八. Session会话</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BC%9A%E8%AF%9D"><span class="toc-text">1. 基本会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-2"><span class="toc-text">2. 基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%88%9B%E5%BB%BASession"><span class="toc-text">2.1 创建Session</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%98%E5%8F%96"><span class="toc-text">2.2 数据的存取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">2.3 生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#a-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">a. 基本介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#b-%E6%96%B9%E6%B3%95%E4%BD%BF%E7%94%A8"><span class="toc-text">b. 方法使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8CSession"><span class="toc-text">3. 浏览器和Session</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D-Filter%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">九. Filter过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-5"><span class="toc-text">1. 基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-3"><span class="toc-text">2. 基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E6%8B%A6%E6%88%AA%E8%AE%BF%E9%97%AE-admin%E6%96%87%E4%BB%B6"><span class="toc-text">2.1 拦截访问&#x2F;admin文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-web-xml%E9%85%8D%E7%BD%AE"><span class="toc-text">2.2 web.xml配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Filter%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">3. Filter的生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-FilterConfig%E7%B1%BB"><span class="toc-text">4. FilterConfig类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">4.1 简单介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-%E8%8E%B7%E5%8F%96%E5%86%85%E5%AE%B9"><span class="toc-text">4.2  获取内容</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-FilterChain%E8%BF%87%E6%BB%A4%E5%99%A8%E9%93%BE"><span class="toc-text">5. FilterChain过滤器链</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-%E4%BD%9C%E7%94%A8%E5%8E%9F%E7%90%86"><span class="toc-text">5.1 作用原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B"><span class="toc-text">5.2 实际案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Filter%E7%9A%84%E6%8B%A6%E6%88%AA%E8%B7%AF%E5%BE%84"><span class="toc-text">6. Filter的拦截路径</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-%E7%B2%BE%E7%A1%AE%E5%8C%B9%E9%85%8D"><span class="toc-text">6.1 精确匹配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-%E7%9B%AE%E5%BD%95%E5%8C%B9%E9%85%8D"><span class="toc-text">6.2 目录匹配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-%E5%90%8E%E7%BC%80%E5%90%8D%E5%8C%B9%E9%85%8D"><span class="toc-text">6.3 后缀名匹配</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81-JSON"><span class="toc-text">十. JSON</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">1. 简单介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-JS%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">2. JS中的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E5%AE%9A%E4%B9%89"><span class="toc-text">2.1 基本定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95"><span class="toc-text">2.2 访问方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">2.3 常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Java%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">3. Java中的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E6%8F%90%E6%8F%90%E8%A6%81"><span class="toc-text">前提提要</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-javaBean%E5%92%8Cjson%E4%BA%92%E8%BD%AC"><span class="toc-text">3.1 javaBean和json互转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-List%E5%92%8Cjson%E4%BA%92%E8%BD%AC"><span class="toc-text">3.2 List和json互转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Map%E5%92%8Cjson%E4%BA%92%E8%BD%AC"><span class="toc-text">3.3 Map和json互转</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-AJAX"><span class="toc-text">十一. AJAX</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D-1"><span class="toc-text">1. 简单介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8E%9F%E7%94%9FAJAX%E8%AF%B7%E6%B1%82"><span class="toc-text">2. 原生AJAX请求</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E6%AD%A5%E9%AA%A4"><span class="toc-text">2.1 步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B-1"><span class="toc-text">2.2 实际案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-jQuery%E4%B8%AD%E7%9A%84AJAX%E8%AF%B7%E6%B1%82"><span class="toc-text">3. jQuery中的AJAX请求</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-ajax"><span class="toc-text">3.1 $.ajax</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-get-post"><span class="toc-text">3.2 $get&#x2F;$post</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-getJSON"><span class="toc-text">3.3 $.getJSON</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-serialize"><span class="toc-text">3.4 serialize()</span></a></li></ol></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JavaWEB笔记"><a href="#JavaWEB笔记" class="headerlink" title="JavaWEB笔记"></a>JavaWEB笔记</h1><h2 id="一-XML"><a href="#一-XML" class="headerlink" title="一. XML"></a>一. XML</h2><h3 id="1-基本介绍"><a href="#1-基本介绍" class="headerlink" title="1. 基本介绍"></a>1. 基本介绍</h3><blockquote>
<p><code>xml</code>是可拓展的标记行语言</p>
</blockquote>
<h3 id="2-主要作用"><a href="#2-主要作用" class="headerlink" title="2. 主要作用"></a>2. 主要作用</h3><ol>
<li>用来保存数据，这些数据具有自我描述性</li>
<li>可以作为项目或模块的配置文件</li>
<li>可以作为网络传输数据的格式（现在JSON为主）</li>
</ol>
<h3 id="3-语法格式"><a href="#3-语法格式" class="headerlink" title="3. 语法格式"></a>3. 语法格式</h3><ol>
<li>文档声明</li>
<li>元素（标签）</li>
<li>xml属性</li>
<li>xml注释</li>
<li>文本区域（CDATA区）<code>&lt;![CDATA[文本]]&gt;</code></li>
</ol>
<h3 id="4-实际案例"><a href="#4-实际案例" class="headerlink" title="4. 实际案例"></a>4. 实际案例</h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="token comment">&lt;!--注释格式和HTML一样
    第一行就是文档的声明
    version="1.0"       表示xml的版本
    encoding="utf-8"    表示xml文件本身的编码方式
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>books</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--books 表示多个图书信息--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span> <span class="token attr-name">sn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SN12341234<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      <span class="token comment">&lt;!--book表示一个图书信息，sn属性表示图书序列号--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>时间简史<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--name标签表示书名--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>author</span><span class="token punctuation">&gt;</span></span>霍金<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>author</span><span class="token punctuation">&gt;</span></span>       <span class="token comment">&lt;!--author标签表示作者--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">&gt;</span></span>75<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">&gt;</span></span>          <span class="token comment">&lt;!--price表示图书价格--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span> <span class="token attr-name">sn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SN12344321<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      <span class="token comment">&lt;!--book表示一个图书信息，sn属性表示图书序列号--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>java从入门到放弃<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--name标签表示书名--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>author</span><span class="token punctuation">&gt;</span></span>Echo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>author</span><span class="token punctuation">&gt;</span></span>       <span class="token comment">&lt;!--author标签表示作者--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">&gt;</span></span>-9.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">&gt;</span></span>          <span class="token comment">&lt;!--price表示图书价格--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--xml中的大/小于号与HTML一样要用&amp;gt;&amp;lt;代替
        可以在文本中创建CDATA区，这里面是纯文本区，不需要解析
        例子如下
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span> <span class="token attr-name">sn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SN12344321<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      <span class="token comment">&lt;!--book表示一个图书信息，sn属性表示图书序列号--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[&lt;&lt;葵花宝典&gt;&gt;]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--name标签表示书名--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>author</span><span class="token punctuation">&gt;</span></span>佚名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>author</span><span class="token punctuation">&gt;</span></span>       <span class="token comment">&lt;!--author标签表示作者--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">&gt;</span></span>9999<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">&gt;</span></span>          <span class="token comment">&lt;!--price表示图书价格--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>books</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="5-xml的解析"><a href="#5-xml的解析" class="headerlink" title="5. xml的解析"></a>5. <code>xml</code>的解析</h3><h4 id="5-1-基本介绍"><a href="#5-1-基本介绍" class="headerlink" title="5.1 基本介绍"></a>5.1 基本介绍</h4><blockquote>
<ul>
<li>早期JDK 为我们提供了两种xml 解析技术DOM 和Sax 简介（已经过时）</li>
<li>dom 解析技术是W3C 组织制定的，而所有的编程语言都对这个解析技术使用了自己语言的特点进行实现</li>
<li>Java 对dom 技术解析标记也做了实现<br>sun 公司在JDK5 版本对dom 解析技术进行升级：SAX（ Simple API for XML ）<br>SAX 解析，它跟W3C 制定的解析不太一样。它是以类似事件机制通过回调告诉用户当前正在解析的内容<br>它是一行一行的读取xml 文件进行解析的。不会创建大量的dom 对象<br>所以它在解析xml 的时候，在内存的使用上。和性能上。都优于Dom 解析</li>
<li>第三方解析：dom4j，因为是第三方所以需要下载提供的类库</li>
</ul>
</blockquote>
<h4 id="5-2-dom4j解析技术"><a href="#5-2-dom4j解析技术" class="headerlink" title="5.2 dom4j解析技术"></a>5.2 dom4j解析技术</h4><p><strong>步骤</strong></p>
<ol>
<li>创建一个<code>SaxReader</code>输入流</li>
<li>读取<code>xml</code>文件，获取<code>Document</code>对象</li>
<li>获取根元素</li>
<li>遍历根元素获取<code>book</code>标签对象</li>
</ol>
<p><strong>Book对象</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>echochao<span class="token punctuation">.</span>project</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigDecimal</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> sn<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> author<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> price<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getSn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSn</span><span class="token punctuation">(</span><span class="token class-name">String</span> sn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sn <span class="token operator">=</span> sn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> author<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAuthor</span><span class="token punctuation">(</span><span class="token class-name">String</span> author<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">BigDecimal</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token class-name">String</span> sn<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> author<span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sn <span class="token operator">=</span> sn<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Book{"</span> <span class="token operator">+</span>
                <span class="token string">"sn='"</span> <span class="token operator">+</span> sn <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", author='"</span> <span class="token operator">+</span> author <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", price="</span> <span class="token operator">+</span> price <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>解析过程</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>echochao<span class="token punctuation">.</span>project</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>dom4j<span class="token punctuation">.</span></span><span class="token class-name">Document</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>dom4j<span class="token punctuation">.</span></span><span class="token class-name">DocumentException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>dom4j<span class="token punctuation">.</span></span><span class="token class-name">Element</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>dom4j<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">SAXReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigDecimal</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dom4jTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//创建一个SaxReader输入流，去读取xml配置文件，生成Document对象</span>
        <span class="token class-name">SAXReader</span> saxReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SAXReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取Document的对象，在junit中相对路径是从Moudle开始</span>
        <span class="token class-name">Document</span> doc <span class="token operator">=</span> saxReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token string">"src/books.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取根元素</span>
        <span class="token class-name">Element</span> rootElement <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">getRootElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//遍历根元素获取book标签对象</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Element</span><span class="token punctuation">&gt;</span></span> books <span class="token operator">=</span> rootElement<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token string">"book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Element</span> book<span class="token operator">:</span>books<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">String</span> snValue<span class="token operator">=</span>book<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"sn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> nameValue<span class="token operator">=</span>book<span class="token punctuation">.</span><span class="token function">elementText</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> authorValue<span class="token operator">=</span>book<span class="token punctuation">.</span><span class="token function">elementText</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> priceValue<span class="token operator">=</span>book<span class="token punctuation">.</span><span class="token function">elementText</span><span class="token punctuation">(</span><span class="token string">"price"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span>snValue<span class="token punctuation">,</span>nameValue<span class="token punctuation">,</span>authorValue<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>priceValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="二-Tomcat"><a href="#二-Tomcat" class="headerlink" title="二. Tomcat"></a>二. Tomcat</h2><h3 id="1-JavaWeb"><a href="#1-JavaWeb" class="headerlink" title="1. JavaWeb"></a>1. JavaWeb</h3><h4 id="1-1-基本概念"><a href="#1-1-基本概念" class="headerlink" title="1.1 基本概念"></a>1.1 基本概念</h4><blockquote>
<p>所有通过<code>Java</code>语言编写的可以通过浏览器访问的程序的总称，叫<code>JavaWeb</code>，是基于请求和响应来开发的</p>
</blockquote>
<h4 id="1-2-Web资源的分类"><a href="#1-2-Web资源的分类" class="headerlink" title="1.2 Web资源的分类"></a>1.2 Web资源的分类</h4><p>静态资源：html、css、js、txt、mp4视频、jpg图片</p>
<p>动态资源：jsp页面、Servlet程序</p>
<h4 id="1-3-常用的Web服务器"><a href="#1-3-常用的Web服务器" class="headerlink" title="1.3 常用的Web服务器"></a>1.3 常用的Web服务器</h4><p><code>Tomcat</code> ：由Apache组织提供的一种WEB服务器，是一种轻量级的<code>javaWeb</code>容器</p>
<h3 id="2-基本使用"><a href="#2-基本使用" class="headerlink" title="2. 基本使用"></a>2. 基本使用</h3><h4 id="2-1-目录介绍"><a href="#2-1-目录介绍" class="headerlink" title="2.1 目录介绍"></a>2.1 目录介绍</h4><table>
<thead>
<tr>
<th>目录</th>
<th>内容</th>
</tr>
</thead>
<tbody><tr>
<td>bin</td>
<td>专门存放Tomcat服务器的可执行程序</td>
</tr>
<tr>
<td>conf</td>
<td>专门存放Tomacat服务器的配置文件</td>
</tr>
<tr>
<td>lib</td>
<td>专门存放Tomcat服务器的jar包</td>
</tr>
<tr>
<td>logs</td>
<td>专门存放Tomcat服务器运行时输出的日记信息</td>
</tr>
<tr>
<td>temp</td>
<td>专门存放Tomacat运行时产生的临时数据</td>
</tr>
<tr>
<td>webapps</td>
<td>专门存放部署的Web工程</td>
</tr>
<tr>
<td>work</td>
<td>是Tomcat的工作时的目录，用来存放运行时jsp翻译为Servlet的源码和Session钝化的目录</td>
</tr>
</tbody></table>
<p><img src="C:\Users\echoc\AppData\Roaming\Typora\typora-user-images\1626532195051.png" alt="目录结构"></p>
<h4 id="2-2-启动服务器"><a href="#2-2-启动服务器" class="headerlink" title="2.2 启动服务器"></a>2.2 启动服务器</h4><p><strong>方法一</strong></p>
<p>找到Tomcat目录下的bin目录下的startup.bat，双击就可以启动</p>
<p><strong>方式二</strong></p>
<p>打开终端，<code>cd</code>到Tomcat的bin目录下，输入<code>catalina run</code></p>
<h5 id="测试是否打开成功"><a href="#测试是否打开成功" class="headerlink" title="测试是否打开成功"></a>测试是否打开成功</h5><p>在浏览器地址栏输入</p>
<p><code>http://localhost:8080</code></p>
<p><code>http://127.0.0.1:8080</code></p>
<p><code>http://真实ip:8080</code></p>
<p>是否能够打开界面</p>
<h4 id="2-3-关闭服务器"><a href="#2-3-关闭服务器" class="headerlink" title="2.3 关闭服务器"></a>2.3 关闭服务器</h4><p><strong>方式一</strong></p>
<p>关闭Tomcat服务器的窗口</p>
<p><strong>方式二</strong></p>
<p>找到Tomcat的bin目录下的<code>shutdown.bat</code>，双击就可以关闭服务器</p>
<h4 id="2-4-修改端口号"><a href="#2-4-修改端口号" class="headerlink" title="2.4 修改端口号"></a>2.4 修改端口号</h4><p>Mysql的默认窗口：3306</p>
<p>Tomcat的默认窗口：8080</p>
<p><strong>步骤</strong>：</p>
<p>找到Tomcat目录下的conf目录，找到server.xml配置文件</p>
<p><strong>修改之后需要重启服务器</strong></p>
<p><img src="C:\Users\echoc\AppData\Roaming\Typora\typora-user-images\1626532239393.png" alt="端口文件"></p>
<h4 id="2-5-部署工程"><a href="#2-5-部署工程" class="headerlink" title="2.5 部署工程"></a>2.5 部署工程</h4><h5 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h5><h6 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h6><ol>
<li>在<code>webapps</code>目录下创建一个文件夹（既是一个工程）</li>
<li>该文件夹中内容就是属于这个工程的内容</li>
</ol>
<h6 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h6><p><code>http://localhost/工程名/目录/文件</code></p>
<h5 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h5><h6 id="步骤-1"><a href="#步骤-1" class="headerlink" title="步骤"></a>步骤</h6><ol>
<li>找到Tomcat下的conf目录<code>\Catalina\localhost\</code>下，创建配置文件<code>工程名.xml</code></li>
<li>配置文件内容</li>
</ol>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- Context 表示一个工程上下文
        path 表示工程的访问路径:/abc
        docBase 表示你的工程目录在哪里
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Context</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/abc<span class="token punctuation">"</span></span> <span class="token attr-name">docBase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>E:\book<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>path</code>：表示工程的访问路径</p>
<p><code>docBase</code>：表示工程目录在哪（工程就可以放在其他目录下了）</p>
<h6 id="访问-1"><a href="#访问-1" class="headerlink" title="访问"></a>访问</h6><p>访问的方式都是一样的</p>
<h5 id="Root工程的访问"><a href="#Root工程的访问" class="headerlink" title="Root工程的访问"></a>Root工程的访问</h5><p><code>http://localhost:8080</code>：没有工程名的时候，默认访问的是ROOT工程</p>
<p><code>http://localhost:8080/工程名</code>：没有资源名，默认访问的是index.html</p>
<h4 id="2-6-常见配置"><a href="#2-6-常见配置" class="headerlink" title="2.6 常见配置"></a>2.6 常见配置</h4><h5 id="2-6-1-修改工程访问路径"><a href="#2-6-1-修改工程访问路径" class="headerlink" title="2.6.1 修改工程访问路径"></a>2.6.1 修改工程访问路径</h5><p><img src="C:\Users\echoc\AppData\Roaming\Typora\typora-user-images\1626572715752.png" alt="访问路径"></p>
<h5 id="2-6-2-修改端口号以及热部署"><a href="#2-6-2-修改端口号以及热部署" class="headerlink" title="2.6.2 修改端口号以及热部署"></a>2.6.2 修改端口号以及热部署</h5><p><img src="C:\Users\echoc\AppData\Roaming\Typora\typora-user-images\1626572805701.png" alt="端口号以及热部署"></p>
<h3 id="3-Servlet类"><a href="#3-Servlet类" class="headerlink" title="3. Servlet类"></a>3. Servlet类</h3><h4 id="3-1-基本使用"><a href="#3-1-基本使用" class="headerlink" title="3.1 基本使用"></a>3.1 基本使用</h4><h5 id="3-1-1-实现Servlet接口"><a href="#3-1-1-实现Servlet接口" class="headerlink" title="3.1.1 实现Servlet接口"></a>3.1.1 实现<code>Servlet</code>接口</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">MyServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"1 ---构造器方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"2 ---初始化方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"3 ---MyServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//类型转化</span>
        <span class="token class-name">HttpServletRequest</span> httpServletRequest<span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span>
        <span class="token comment">//获取请求的方式</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> httpServletRequest<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"4 ---销毁"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="3-1-2-继承HttpServlet类"><a href="#3-1-2-继承HttpServlet类" class="headerlink" title="3.1.2 继承HttpServlet类"></a>3.1.2 继承<code>HttpServlet</code>类</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet02</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"doGet方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"doPost方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="3-1-3-必要配置"><a href="#3-1-3-必要配置" class="headerlink" title="3.1.3 必要配置"></a>3.1.3 必要配置</h5><p><strong>步骤</strong>：在<code>web.xml</code>中添加基本配置<code>servlet</code>和<code>servlet-mapping</code></p>
<p><code>servlet-name</code>：一般是类名</p>
<p><code>servlet-class</code>：全类名</p>
<p><code>url-pattern</code>：标签配置访问地址    <code>http://localhost:8080/工程路径/访问地址</code></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.echochao.Servlet.MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/my<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="3-2-生命周期"><a href="#3-2-生命周期" class="headerlink" title="3.2 生命周期"></a>3.2 生命周期</h4><p><strong>1</strong>：执行Servlet构造器方法</p>
<p><strong>2</strong>：执行init方法</p>
<p><font size="3px" color="#00aabb"> 第1，2步都是在第一次创建Servlet程序时调用 </font></p>
<p><strong>3</strong>：执行service方法</p>
<p><font size="3px" color="#00aabb">第三步，每次访问都会调用</font></p>
<p><strong>4</strong>：执行destory方法</p>
<p><font size="3px" color="00aabb">在web工程停止的时候调用</font></p>
<h3 id="4-ServletConfig类"><a href="#4-ServletConfig类" class="headerlink" title="4. ServletConfig类"></a>4. ServletConfig类</h3><h4 id="4-1-基本作用"><a href="#4-1-基本作用" class="headerlink" title="4.1 基本作用"></a>4.1 基本作用</h4><p><strong>1</strong>：可以获取Servlet程序的别名<code>servlet-name</code>的值</p>
<p><strong>2</strong>：可以初始化参数<code>init-param</code></p>
<p><strong>3</strong>：获取<code>ServletContext</code>对象</p>
<h4 id="4-2-常见使用"><a href="#4-2-常见使用" class="headerlink" title="4.2 常见使用"></a>4.2 常见使用</h4><p><strong><code>init-param</code>参数配置</strong></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.echochao.Servlet.MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--init-param是初始化参数--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--参数名--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>url<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--参数值--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>http://localhost:8080/servlet/my<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>使用案例</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"2 ---初始化方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//获取别名</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"别名是---"</span><span class="token operator">+</span>servletConfig<span class="token punctuation">.</span><span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//获取初始化参数init-parm</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"初始化参数url的值："</span><span class="token operator">+</span>servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//获取servletContext对象</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"获取servletContext对象："</span><span class="token operator">+</span>servletConfig<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="C:\Users\echoc\AppData\Roaming\Typora\typora-user-images\1626767080827.png" alt="输出图片"></p>
<h4 id="4-3-使用细节"><a href="#4-3-使用细节" class="headerlink" title="4.3 使用细节"></a>4.3 使用细节</h4><p><strong>4.2 中的使用案例是实现<code>Servlet</code>接口，继承<code>HttpServlet</code>类的话有所不同</strong></p>
<p><strong>步骤</strong>：</p>
<p><strong>1</strong>：<code>init()</code>的重写可有可无，但是重写的话必须要有<code>super.init(config)</code></p>
<p><strong>2</strong>：需要先获取<code>servletConfig</code>对象，只会才能进行获取参数的操作</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet02</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token comment">//这句话是必须的</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"重写了init方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"doGet方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//先要获取servletConfig对象</span>
        <span class="token class-name">ServletConfig</span> servletConfig <span class="token operator">=</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"获取init-parm参数url："</span><span class="token operator">+</span>servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"doPost方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="5-ServletContext类"><a href="#5-ServletContext类" class="headerlink" title="5. ServletContext类"></a>5. ServletContext类</h3><h4 id="5-1-基本介绍-1"><a href="#5-1-基本介绍-1" class="headerlink" title="5.1 基本介绍"></a>5.1 基本介绍</h4><p><strong>1</strong>：<code>ServletContext</code>是一个接口，表示<code>Servlet</code>上下文对象</p>
<p><strong>2</strong>：一个Web工程，只要一个<code>ServletContext</code>对象</p>
<p><strong>3</strong>：<code>ServletContext</code>对象是一个域对象</p>
<h4 id="5-2-域对象"><a href="#5-2-域对象" class="headerlink" title="5.2  域对象"></a>5.2  域对象</h4><p>域对象，指的是像Map一样可以存取数据的对象，这里的<strong>域</strong>指的是存取数据的操作范围</p>
<table>
<thead>
<tr>
<th></th>
<th>存数据</th>
<th>取数据</th>
<th>删除数据</th>
</tr>
</thead>
<tbody><tr>
<td>Map</td>
<td>put()</td>
<td>grt()</td>
<td>remove()</td>
</tr>
<tr>
<td>域对象</td>
<td>setAttribute()</td>
<td>getAttribute()</td>
<td>removeAttribute()</td>
</tr>
</tbody></table>
<h4 id="5-3-基本作用"><a href="#5-3-基本作用" class="headerlink" title="5.3 基本作用"></a>5.3 基本作用</h4><p><strong>1</strong>：获取<code>web.xml</code>中配置的上下文参数<code>context.param</code></p>
<p><strong>2</strong>：获取当前的工程路径，格式：/工程路径</p>
<p><strong>3</strong>：获取工程部署后在服务器硬盘上的绝对路径</p>
<p><strong>4</strong>：像Map一样存取数据</p>
<h4 id="5-4-实际案例"><a href="#5-4-实际案例" class="headerlink" title="5.4 实际案例"></a>5.4 实际案例</h4><p><strong>3</strong>：输入的<code>/</code>代表的是工程路径的根目录，如果目录还有<code>css</code>文件夹，输入<code>/css</code>获取的就是css文件夹路径</p>
<p><strong>4</strong>：存储的数据该web工程的其他servlet也可以访问，因为一个项目共享一个<code>servletContext</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContextServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//先获取Context对象</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//1.获取web.xml配置的上下文参数context-param</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"context-param的username参数："</span><span class="token operator">+</span>servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.获取当前路径，格式：/工程路径</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"当前工程路径："</span><span class="token operator">+</span>servletContext<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.获取工程部署后在服务器磁盘上的绝对路径</span>
        <span class="token comment">//http://localhost:8080/工程路径/</span>
        <span class="token comment">//填入的"/"就是工程路径的地址，如果目录下有个文件夹，可以填入"/文件夹名"，得到就是该文件夹</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"当前工程在磁盘上的绝对路径："</span><span class="token operator">+</span>servletContext<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//4.像map一样存储数据源</span>
        servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"key1"</span><span class="token punctuation">,</span><span class="token string">"value1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"获取域数据key1的值："</span><span class="token operator">+</span>servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"key1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="6-HTTP协议"><a href="#6-HTTP协议" class="headerlink" title="6. HTTP协议"></a>6. HTTP协议</h3><h4 id="6-1-基本介绍"><a href="#6-1-基本介绍" class="headerlink" title="6.1 基本介绍"></a>6.1 基本介绍</h4><blockquote>
<p>客户端和服务器之间通信时，发送的数据所需要遵守的规则，叫HTTP 协议</p>
</blockquote>
<h4 id="6-2-请求的HTTP协议格式"><a href="#6-2-请求的HTTP协议格式" class="headerlink" title="6.2 请求的HTTP协议格式"></a>6.2 请求的HTTP协议格式</h4><h5 id="6-2-1-Get请求"><a href="#6-2-1-Get请求" class="headerlink" title="6.2.1 Get请求"></a>6.2.1 Get请求</h5><p><strong>1</strong>：请求行</p>
<p>(1)：请求的方式                                                    GET</p>
<p>(2)：请求的资源路径[+?+请求参数]</p>
<p>(3)：请求的协议版本号                                        HTTP/1.1</p>
<p><strong>2</strong>：请求头</p>
<p>key:value    不同的键值对，表示不同的含义</p>
<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/%E7%AC%94%E8%AE%B0%E7%94%BB%E5%9B%BE02.jpg" alt="Get请求"></p>
<h5 id="6-2-2-Post请求"><a href="#6-2-2-Post请求" class="headerlink" title="6.2.2 Post请求"></a>6.2.2 Post请求</h5><p><strong>1</strong>：请求行</p>
<p>(1)：请求的方式                                                    POST</p>
<p>(2)：请求的资源路径[+?+请求参数]</p>
<p>(3)：请求的协议版本号                                        HTTP/1.1</p>
<p><strong>2</strong>：请求头</p>
<p>key：value    不同的请求头，有不同的含义</p>
<p><strong>3</strong>：请求体    ===&gt;&gt;&gt;    就是发送给服务器的数据</p>
<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/%E7%AC%94%E8%AE%B0%E7%94%BB%E5%9B%BE03.jpg" alt="Post请求"></p>
<h5 id="6-2-3-常见GET和POST请求"><a href="#6-2-3-常见GET和POST请求" class="headerlink" title="6.2.3 常见GET和POST请求"></a>6.2.3 常见GET和POST请求</h5><p><strong>GET请求</strong>：</p>
<ol>
<li><code>form</code>标签<code>method=get</code></li>
<li><code>a</code>超链接标签</li>
<li><code>link</code>标签引入<code>css</code></li>
<li><code>Script</code>标签引入js文件</li>
<li>img标签引入图片</li>
<li><code>iframe</code>引入html界面</li>
<li>在浏览器地址栏输入地址后回车</li>
</ol>
<p><strong>POST请求</strong></p>
<ul>
<li><code>form</code>标签 <code>method=post</code></li>
</ul>
<h5 id="6-2-4-响应格式"><a href="#6-2-4-响应格式" class="headerlink" title="6.2.4 响应格式"></a>6.2.4 响应格式</h5><p><strong>1</strong>：响应行</p>
<p>(1)    响应的协议和版本号</p>
<p>(2)    响应状态码</p>
<p>(3)    响应状态描述符</p>
<p><strong>2</strong>：响应头</p>
<p>key：value    不同的响应头，有其不同的含义</p>
<p><strong>3</strong>：响应体    —&gt;    回传给客户端的数据</p>
<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/%E7%AC%94%E8%AE%B0%E7%94%BB%E5%9B%BE04.jpg" alt="响应格式"></p>
<h5 id="6-2-5-常用的响应码说明"><a href="#6-2-5-常用的响应码说明" class="headerlink" title="6.2.5 常用的响应码说明"></a>6.2.5 常用的响应码说明</h5><table>
<thead>
<tr>
<th>响应码</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>200</td>
<td>表示请求成功</td>
</tr>
<tr>
<td>302</td>
<td>表示请求重定向</td>
</tr>
<tr>
<td>404</td>
<td>表示请求服务器已经收到了，但是数据不存在（请求地址错误）</td>
</tr>
<tr>
<td>500</td>
<td>表示服务器已经收到请求，但是服务器内部错误（代码错误）</td>
</tr>
</tbody></table>
<h4 id="MIME类型"><a href="#MIME类型" class="headerlink" title="MIME类型"></a>MIME类型</h4><blockquote>
<p>MIME 是HTTP 协议中数据类型。<br>MIME 的英文全称是”Multipurpose Internet Mail Extensions” 多功能Internet 邮件扩充服务。MIME 类型的格式是“大类型/小类型”，并与某一种文件的扩展名相对应</p>
</blockquote>
<table>
<thead>
<tr>
<th>文件</th>
<th>MIME类型</th>
<th>文件类型</th>
</tr>
</thead>
<tbody><tr>
<td>超文本标记语言文本</td>
<td>.html/.htm</td>
<td>text/tml</td>
</tr>
<tr>
<td>普通文本</td>
<td>.txt</td>
<td>text/plain</td>
</tr>
<tr>
<td>RTF文本</td>
<td>.rtf</td>
<td>application/rtf</td>
</tr>
<tr>
<td>GIF图形</td>
<td>.gif</td>
<td>image/gif</td>
</tr>
<tr>
<td>JPEG图形</td>
<td>.jpeg/.jpg</td>
<td>image/jpeg</td>
</tr>
<tr>
<td>au声音文件</td>
<td>.au</td>
<td>audio/basic</td>
</tr>
<tr>
<td>MIDI音乐文件</td>
<td>.mid/.midi</td>
<td>audio/midi,audio/x-mid</td>
</tr>
<tr>
<td>RealAudio音乐文件</td>
<td>.ra/.ram</td>
<td>audio/x-pn-realaudio</td>
</tr>
<tr>
<td>MPEG文件</td>
<td>.mpg/.mpeg</td>
<td>video/mpeg</td>
</tr>
<tr>
<td>AVI文件</td>
<td>.avi</td>
<td>video/x-msvideo</td>
</tr>
<tr>
<td>GZIP文件</td>
<td>.gz</td>
<td>application/x-gzip</td>
</tr>
<tr>
<td>TAR文件</td>
<td>.tar</td>
<td>application/x-tar</td>
</tr>
</tbody></table>
<h3 id="7-HttpServletRequest类"><a href="#7-HttpServletRequest类" class="headerlink" title="7. HttpServletRequest类"></a>7. HttpServletRequest类</h3><h4 id="7-1-基本介绍"><a href="#7-1-基本介绍" class="headerlink" title="7.1 基本介绍"></a>7.1 基本介绍</h4><blockquote>
<p>每次只要有请求进入Tomcat 服务器，Tomcat 服务器就会把请求过来的HTTP 协议信息解析好封装到Request 对象中，然后传递到service 方法（doGet 和doPost）中给我们使用。我们可以通过HttpServletRequest 对象，获取到所有请求的信息</p>
</blockquote>
<h4 id="7-2-常用方法"><a href="#7-2-常用方法" class="headerlink" title="7.2 常用方法"></a>7.2 常用方法</h4><table>
<thead>
<tr>
<th>方法名</th>
<th>内容</th>
</tr>
</thead>
<tbody><tr>
<td>getRequestURI()</td>
<td>获取请求的资源路径</td>
</tr>
<tr>
<td>getRequsetURL()</td>
<td>获取请求的统一资源定位符（绝对路径）</td>
</tr>
<tr>
<td>getRemoteHost()</td>
<td>获取客户端的ip地址</td>
</tr>
<tr>
<td>getHeader()</td>
<td>获取请求头</td>
</tr>
<tr>
<td>getParameter()</td>
<td>获取请求的参数</td>
</tr>
<tr>
<td>getParameterValues()</td>
<td>获取请求的参数（多个值的时候使用）</td>
</tr>
<tr>
<td>getMethod()</td>
<td>获取请求的方式GET/POST</td>
</tr>
<tr>
<td>setArribute(key,value)</td>
<td>设置域数据</td>
</tr>
<tr>
<td>getArribute(key)</td>
<td>获取域数据</td>
</tr>
<tr>
<td>getRequestDispatcher()</td>
<td>获取请求转发对象</td>
</tr>
</tbody></table>
<p><strong>测试界面</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>测试需要<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:8080/servlet/request<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>用户名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>密码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>兴趣爱好<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cpp<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>C++
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Java
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>JavaScript
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>实际案例</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestAPIServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.getRequsetURI()     获取请求的资源路径</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"URI ==&gt; "</span> <span class="token operator">+</span> req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.getRequestURL()     获取请求的统一资源定位符</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"URL ==&gt; "</span> <span class="token operator">+</span> req<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.getRemoteHost()     获取客户端的IP地址</span>
        <span class="token comment">/*
         *   在IDEA中，使用localhost访问使，得到的ip地址 ===&gt; 127.0.0.1   / 0:0:0:0:0:0:0:0:1(IPV6)
         * */</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"客户端IP地址 ==&gt; "</span> <span class="token operator">+</span> req<span class="token punctuation">.</span><span class="token function">getRemoteHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//4.getHeader()         获取请求头</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请求头User-Agent ===&gt; "</span> <span class="token operator">+</span> req<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">"User-Agent"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//5.getMethod()         获取请求的方式 GET/POST</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请求的方式 ===&gt; "</span> <span class="token operator">+</span> req<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//6.getParameter()      获取请求参数（单个）</span>
        <span class="token comment">//6.getParameterValues  获取请求参数（多个）</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hobbies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"hobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"用户名="</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"密码="</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"兴趣爱好="</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>hobbies<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hobbies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"hobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"用户名="</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"密码="</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"兴趣爱好="</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>hobbies<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="7-3-解决乱码"><a href="#7-3-解决乱码" class="headerlink" title="7.3 解决乱码"></a>7.3 解决乱码</h4><p><strong>Get</strong></p>
<ul>
<li>先获取请求参数<code>String name=req.getParameter("username")</code></li>
<li>再先以<code>iso-8859-1</code>进行编码，以<code>UTF-8</code>进行解码 </li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> name<span class="token operator">=</span>req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>
    
username<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>username<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">"iso-8859-1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>Post</strong></p>
<ul>
<li>在获取参数之前先设置字体的字符集</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="7-4-请求转发"><a href="#7-4-请求转发" class="headerlink" title="7.4 请求转发"></a>7.4 请求转发</h4><h5 id="7-4-1-简单介绍"><a href="#7-4-1-简单介绍" class="headerlink" title="7.4.1 简单介绍"></a>7.4.1 简单介绍</h5><blockquote>
<p>请求转发是指，服务器收到请求后，从一个资源跳转到另一个资源的操作叫请求转发</p>
<p>就例如柜台办事，从柜台一获取凭证后前往柜台二继续业务办理</p>
</blockquote>
<h5 id="7-4-2-实际使用"><a href="#7-4-2-实际使用" class="headerlink" title="7.4.2 实际使用"></a>7.4.2 实际使用</h5><p><strong>Servlet01</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Servlet01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取请求的参数（办事的材料）</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"在Servlet01（柜台一）中查看参数:"</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//给材料盖一个章</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"key01"</span><span class="token punctuation">,</span><span class="token string">"柜台一的章验证"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//问路：柜台二怎么走（获取Servlet02的方法）</span>
        <span class="token comment">/*
        * 必须以/打头
        * 代表的是http://localhost:8080/工程路径/所填内容
        * */</span>
        <span class="token class-name">RequestDispatcher</span> requestDispatcher <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/servlet02"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//走向柜台二（Servlet02）,并且传递Servlet01的参数</span>
        requestDispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>Servlet02</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Servlet02</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取请求的参数（办事材料）</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"在Servlet02（柜台二）中查看参数："</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//查看柜台一的章</span>
        <span class="token class-name">String</span> key01 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"key01"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key01<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//执行自己的代码</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"柜台二在办事"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>实际效果</strong></p>
<p><img src="C:\Users\echoc\AppData\Roaming\Typora\typora-user-images\1626942517224.png" alt="实际效果"></p>
<h5 id="7-4-3-请求转发的特点"><a href="#7-4-3-请求转发的特点" class="headerlink" title="7.4.3 请求转发的特点"></a>7.4.3 请求转发的特点</h5><p><strong>1</strong>：浏览器地址栏没有变化</p>
<p><strong>2</strong>：他们是一次请求</p>
<p><strong>3</strong>：共享Request域中的数据</p>
<p><strong>4</strong>：可以转发到<code>WEB-INF</code>目录下</p>
<p><strong>5</strong>：不可以访问到工程以外的资源</p>
<p>![画图描述](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/07_%E5%B0%9A%E7%A1%85%E8%B0%B7_Servlet_%E7%8E%8B%E6%8C%AF%E5%9B%BD">https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/07_尚硅谷_Servlet_王振国</a> - 课堂笔记.jpg)</p>
<h4 id="7-5-base标签"><a href="#7-5-base标签" class="headerlink" title="7.5 base标签"></a>7.5 base标签</h4><p>当我们用<code>&lt;a&gt;</code>标签跳转的时候，所有的相对路径都是基于浏览器地址栏进行跳转的，但是因为<em>请求转发</em>地址栏并不会改变，所以会造成无法跳转回来，这时候就需要<code>base</code>标签，来设置相对路径的<strong>基准</strong></p>
<p><em>a/b/c.html</em></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>a下b下的c网页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:8080/servlet/a/b/c.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>
        a下b下的c网页
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../index.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>跳回页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em>index.html</em></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        这是Web的index.html <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a/b/c.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>a/b/c.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:8080/servlet/forward<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>请求转发：a/b/c.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em>请求转发</em></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ForwardC</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//请求转发</span>
        <span class="token class-name">RequestDispatcher</span> requestDispatcher <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/a/b/c.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        requestDispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="7-6-的不同意义"><a href="#7-6-的不同意义" class="headerlink" title="7.6 /的不同意义"></a>7.6 <code>/</code>的不同意义</h4><p>在<code>web</code>中<code>/</code>是一种绝对路径</p>
<ul>
<li><code>/</code>被<strong>浏览器</strong>解析，得到的地址是：<code>http://ip:port/</code></li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>斜杆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li><code>/</code>被<strong>服务器</strong>解析，得到的地址是：<code>http://ip:port/工程路径</code></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>url<span class="token operator">-</span>pattern<span class="token operator">&gt;</span><span class="token operator">/</span>servlet<span class="token operator">&lt;</span><span class="token operator">/</span>url<span class="token operator">-</span>pattern<span class="token operator">&gt;</span>
servletContext<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="8-HttpServletResponse类"><a href="#8-HttpServletResponse类" class="headerlink" title="8. HttpServletResponse类"></a>8. HttpServletResponse类</h3><h4 id="8-1-基本介绍"><a href="#8-1-基本介绍" class="headerlink" title="8.1 基本介绍"></a>8.1 基本介绍</h4><blockquote>
<p>HttpServletResponse 类和HttpServletRequest 类一样。每次请求进来，Tomcat 服务器都会创建一个Response 对象传递给Servlet 程序去使用。<br>HttpServletRequest 表示请求过来的信息，HttpServletResponse 表示所有响应的信息，我们如果需要设置返回给客户端的信息，都可以通过HttpServletResponse 对象来进行设置</p>
</blockquote>
<h4 id="8-2-两个输出流"><a href="#8-2-两个输出流" class="headerlink" title="8.2 两个输出流"></a>8.2 两个输出流</h4><table>
<thead>
<tr>
<th>名字</th>
<th>代码</th>
<th>内容</th>
</tr>
</thead>
<tbody><tr>
<td>字节流</td>
<td>getOutputStream()</td>
<td>常用于下载（传递二进制数据）</td>
</tr>
<tr>
<td>字符流</td>
<td>getWriter()</td>
<td>常用于回传字符串（常用）</td>
</tr>
</tbody></table>
<p><strong>两个输入流不能同时使用，不然会报错</strong></p>
<h4 id="8-3-传数据给客户端"><a href="#8-3-传数据给客户端" class="headerlink" title="8.3 传数据给客户端"></a>8.3 传数据给客户端</h4><p><strong>1</strong>：设置编码格式（避免中文乱码）</p>
<p><strong>2</strong>：获取流对象</p>
<p><strong>3</strong>：传输数据</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseIOServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//不能同时使用getWriter(),getOutputStream()</span>

        <span class="token comment">//默认是ISO-8859-1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getCharacterEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//第一种方式</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span><span class="token string">"text/html; charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//第二种方式---一步到位（此方式要在获取流之前使用）</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html; charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//给客户端返回信息</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"response's content&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"客户端：这是给你的回应"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="8-4-解决中文乱码"><a href="#8-4-解决中文乱码" class="headerlink" title="8.4 解决中文乱码"></a>8.4 解决中文乱码</h4><h5 id="方法一-1"><a href="#方法一-1" class="headerlink" title="方法一"></a>方法一</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//第一种方式</span>
response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span><span class="token string">"text/html; charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h5><p><strong>该方法需要在获取流对象之前使用</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//第二种方式---一步到位（此方式要在获取流之前使用）</span>
response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html; charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="8-5-请求重定向0030000"><a href="#8-5-请求重定向0030000" class="headerlink" title="8.5 请求重定向0030000"></a>8.5 请求重定向0030000</h4><h5 id="8-5-1-基本介绍"><a href="#8-5-1-基本介绍" class="headerlink" title="8.5.1 基本介绍"></a>8.5.1 基本介绍</h5><blockquote>
<p>请求重定向，是指客户端给服务器发请求，然后服务器告诉客户端说。我给你一些地址。你去新地址访问。叫请求重定向（因为之前的地址可能已经被废弃）</p>
</blockquote>
<p>![请求重定向](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/%E5%B0%9A%E7%A1%85%E8%B0%B7_Servlet_%E7%8E%8B%E6%8C%AF%E5%9B%BD">https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/尚硅谷_Servlet_王振国</a> - 课堂笔记.jpg)</p>
<h5 id="8-5-2-实际使用"><a href="#8-5-2-实际使用" class="headerlink" title="8.5.2 实际使用"></a>8.5.2 实际使用</h5><h6 id="方法一-2"><a href="#方法一-2" class="headerlink" title="方法一"></a>方法一</h6><p><strong>1</strong>：先设置状态码302</p>
<p><strong>2</strong>：再设置响应头</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//第一种方法</span>
<span class="token comment">//先设置响应状态码302，表示重定向（已搬迁）</span>
response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//再设置响应头</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Location"</span><span class="token punctuation">,</span><span class="token string">"http://localhost:8080/servlet/response02"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="方法二-1"><a href="#方法二-1" class="headerlink" title="方法二"></a>方法二</h6><p><strong>直接调用API</strong>===&gt;<code>sendRedirect</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//第二种方法</span>
response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/servlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>Response01</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Response01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"曾到此一游 Response01"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//第一种方法</span>
        <span class="token comment">//先设置响应状态码302，表示重定向（已搬迁）</span>
        response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//再设置响应头</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Location"</span><span class="token punctuation">,</span><span class="token string">"http://localhost:8080/servlet/response02"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//第二种方法</span>
        response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/servlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>Response02</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Response02</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html; charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"这是Response02"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="8-5-3-请求重定向的特点"><a href="#8-5-3-请求重定向的特点" class="headerlink" title="8.5.3 请求重定向的特点"></a>8.5.3 请求重定向的特点</h5><p><strong>1</strong>：浏览器地址会发生变化</p>
<p><strong>2</strong>：会产生两次请求</p>
<p><strong>3</strong>：不共享<code>Request</code>域中数据</p>
<p><strong>4</strong>：不能访问<code>WEB-INF</code>下的资源</p>
<p><strong>5</strong>：可以访问工程外的资源</p>
<h2 id="三-JSP"><a href="#三-JSP" class="headerlink" title="三. JSP"></a>三. JSP</h2><h3 id="1-基本介绍-1"><a href="#1-基本介绍-1" class="headerlink" title="1. 基本介绍"></a>1. 基本介绍</h3><h4 id="1-1-基本作用"><a href="#1-1-基本作用" class="headerlink" title="1.1 基本作用"></a>1.1 基本作用</h4><blockquote>
<p>jsp 的全称是java server pages，就是Java 的服务器页面<br>jsp 的主要作用是代替Servlet 程序回传html 页面的数据</p>
</blockquote>
<h4 id="1-2-JSP本质"><a href="#1-2-JSP本质" class="headerlink" title="1.2 JSP本质"></a>1.2 JSP本质</h4><blockquote>
<p>jsp页面本质是一个<code>Servlet</code>页面<br>第一次访问jsp页面的时候，Tomcat服务器会把jsp页面翻译成java源文件，并且对其进行编译成<code>.class</code>字节码文件</p>
</blockquote>
<h3 id="2-基本语法"><a href="#2-基本语法" class="headerlink" title="2. 基本语法"></a>2. 基本语法</h3><h4 id="2-1-头部的page指令"><a href="#2-1-头部的page指令" class="headerlink" title="2.1 头部的page指令"></a>2.1 头部的page指令</h4><p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/20210729215959.png" alt="头部指令"></p>
<table border="1px">
    <tbody><tr>
        <th>符号</th>
        <th>内容</th>
    </tr>
    <tr>
        <td>language</td>
        <td>表示jsp翻译后是什么语言文件，暂时只支持java</td>
    </tr>
    <tr>
        <td>contentType</td>
        <td>表示jsp返回的数据类是什么，也是源码中response.setContentType()参数值</td>
    </tr>
    <tr>
        <td>pageEncoding</td>
        <td>表示当前jsp页面文件本身的字符集</td>
    </tr>
    <tr>
        <td>import</td>
        <td>跟java源代码中一样，用于导包，导类</td>
    </tr>
    <tr>
        <td>errorPage</td>
        <td>设置当jsp页面运行错误时，自动跳转得错误页面路径，通常以/开头，默认工程路径下</td>
    </tr>
    <tr>
        <td>isErrorPage</td>
        <td>设置当前jsp页面是否时错误信息界面，默认是false，如果设置为true可以获取异常信息</td>
    </tr>
    <tr>
        <td>session</td>
        <td>设置访问当前jsp页面，是否会创建HttpSession对象，默认true</td>
    </tr>
    <tr>
        <td>extends</td>
        <td>设置jsp翻译出来的java类默认继承谁</td>
    </tr>
    <tr align="center">
        <td colspan="2" style="color: red">out输出流使用</td>
    </tr>
    <tr>
        <td>autoFlush</td>
        <td>设置当out输出流缓冲区满后，是否自动刷新缓冲区，默认是true</td>
    </tr>
    <tr>
        <td>buffer</td>
        <td>设置out缓冲区的大小，默认是8kb</td>
    </tr>
</tbody></table>

<h4 id="2-2-常用脚本"><a href="#2-2-常用脚本" class="headerlink" title="2.2 常用脚本"></a>2.2 常用脚本</h4><h5 id="2-2-1-声明脚本"><a href="#2-2-1-声明脚本" class="headerlink" title="2.2.1 声明脚本"></a>2.2.1 声明脚本</h5><h6 id="a-基本格式"><a href="#a-基本格式" class="headerlink" title="a. 基本格式"></a>a. 基本格式</h6><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%! 声明java代码 %&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h6 id="b-声明内容"><a href="#b-声明内容" class="headerlink" title="b. 声明内容"></a>b. 声明内容</h6><ul>
<li>声明类属性</li>
<li>声明static静态代码块</li>
<li>声明类方法</li>
<li>声明内部类</li>
</ul>
<p>![内容对照](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/08_%E5%B0%9A%E7%A1%85%E8%B0%B7_jsp_%E7%8E%8B%E6%8C%AF%E5%9B%BD">https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/08_尚硅谷_jsp_王振国</a> - 课堂笔记01.jpg)</p>
<h5 id="2-2-2-表达式脚本"><a href="#2-2-2-表达式脚本" class="headerlink" title="2.2.2 表达式脚本"></a>2.2.2 表达式脚本</h5><h6 id="a-基本格式-1"><a href="#a-基本格式-1" class="headerlink" title="a. 基本格式"></a>a. 基本格式</h6><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%=表达式%&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h6 id="b-脚本作用"><a href="#b-脚本作用" class="headerlink" title="b. 脚本作用"></a>b. 脚本作用</h6><p>将内容输出到jsp页面</p>
<p>![内容对比](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/08_%E5%B0%9A%E7%A1%85%E8%B0%B7_jsp_%E7%8E%8B%E6%8C%AF%E5%9B%BD">https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/08_尚硅谷_jsp_王振国</a> - 课堂笔记02.jpg)</p>
<h6 id="c-脚本特点"><a href="#c-脚本特点" class="headerlink" title="c. 脚本特点"></a>c. 脚本特点</h6><ul>
<li>所有的表达式脚本都会被翻译到_jspService() 方法中</li>
<li>表达式脚本都会被翻译成为out.print()输出到页面上</li>
<li>由于表达式脚本翻译的内容都在_jspService() 方法中,所以_jspService()方法中的对象都可以直接使用</li>
<li>表达式脚本中的表达式不能以分号结束</li>
</ul>
<h5 id="2-2-3-代码脚本"><a href="#2-2-3-代码脚本" class="headerlink" title="2.2.3 代码脚本"></a>2.2.3 代码脚本</h5><h6 id="a-基本格式-2"><a href="#a-基本格式-2" class="headerlink" title="a. 基本格式"></a>a. 基本格式</h6><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%
	java语句
%&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h6 id="b-脚本作用-1"><a href="#b-脚本作用-1" class="headerlink" title="b. 脚本作用"></a>b. 脚本作用</h6><p>可以在jsp页面中，编写需要的功能（循环等）</p>
<p>![内容比对](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/08_%E5%B0%9A%E7%A1%85%E8%B0%B7_jsp_%E7%8E%8B%E6%8C%AF%E5%9B%BD">https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/08_尚硅谷_jsp_王振国</a> - 课堂笔记03.jpg)</p>
<h6 id="c-脚本特点-1"><a href="#c-脚本特点-1" class="headerlink" title="c. 脚本特点"></a>c. 脚本特点</h6><ul>
<li>代码脚本翻译之后都在_jspService 方法中</li>
<li>代码脚本由于翻译到_jspService()方法中，所以在_jspService()方法中的现有对象都可以直接使用</li>
<li>还可以由多个代码脚本块组合完成一个完整的java 语句</li>
<li>代码脚本还可以和表达式脚本一起组合使用，在jsp 页面上输出数据</li>
</ul>
<h4 id="2-3-三种注释"><a href="#2-3-三种注释" class="headerlink" title="2.3 三种注释"></a>2.3 三种注释</h4><h5 id="2-3-1-html注释"><a href="#2-3-1-html注释" class="headerlink" title="2.3.1 html注释"></a>2.3.1 html注释</h5><p>html注释会被翻译到java源代码中，在_jspService方法里，以<code>out.writer()</code>输入到客户端</p>
<h5 id="2-3-2-java注释"><a href="#2-3-2-java注释" class="headerlink" title="2.3.2 java注释"></a>2.3.2 java注释</h5><p>java注释会被翻译到java源代码中</p>
<h5 id="2-3-3-jsp注释"><a href="#2-3-3-jsp注释" class="headerlink" title="2.3.3 jsp注释"></a>2.3.3 jsp注释</h5><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%-- 这是jsp注释 --%&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>jsp注释可以注掉jsp页面中所以代码</p>
<h3 id="3-内置对象"><a href="#3-内置对象" class="headerlink" title="3. 内置对象"></a>3. 内置对象</h3><table>
<thead>
<tr>
<th>符号</th>
<th>内容</th>
</tr>
</thead>
<tbody><tr>
<td>request</td>
<td>请求对象</td>
</tr>
<tr>
<td>response</td>
<td>响应对象</td>
</tr>
<tr>
<td>pageSession</td>
<td>jsp的上下文对象</td>
</tr>
<tr>
<td>session</td>
<td>会话对象</td>
</tr>
<tr>
<td>application</td>
<td>ServletContext对象</td>
</tr>
<tr>
<td>config</td>
<td>ServletConfig对象</td>
</tr>
<tr>
<td>out</td>
<td>jsp输出流对象</td>
</tr>
<tr>
<td>page</td>
<td>指向当前jsp的对象</td>
</tr>
<tr>
<td>exception</td>
<td>异常对象</td>
</tr>
</tbody></table>
<p>![内置对象](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/08_%E5%B0%9A%E7%A1%85%E8%B0%B7_jsp_%E7%8E%8B%E6%8C%AF%E5%9B%BD">https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/08_尚硅谷_jsp_王振国</a> - 课堂笔记04.jpg)</p>
<h3 id="4-域对象"><a href="#4-域对象" class="headerlink" title="4. 域对象"></a>4. 域对象</h3><table>
<thead>
<tr>
<th>符号</th>
<th>类</th>
<th>有效范围</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>PageContextImpl类</td>
<td>当前jsp页面范围内有效</td>
</tr>
<tr>
<td>request</td>
<td>HttpServletRequest类</td>
<td>一次请求内有效</td>
</tr>
<tr>
<td>session</td>
<td>HttpSession类</td>
<td>一个会话范围内有效（打开浏览器访问服务器，直到关闭浏览器）</td>
</tr>
<tr>
<td>application</td>
<td>ServletContext类</td>
<td>整个web工程范围内有效（只要web工程不停止，数据都在）</td>
</tr>
</tbody></table>
<p><strong>从小到大范围</strong></p>
<p><code>pageContext===&gt;request===&gt;session===&gt;application</code></p>
<h3 id="5-输出流对比"><a href="#5-输出流对比" class="headerlink" title="5. 输出流对比"></a>5. 输出流对比</h3><h4 id="5-1-1-简单介绍"><a href="#5-1-1-简单介绍" class="headerlink" title="5.1.1 简单介绍"></a>5.1.1 简单介绍</h4><p><strong>response.getWriter输出</strong>：<code>response</code>表示响应，经常用于设置返回给客户端的内容</p>
<p><strong>out输出</strong>：也是给用户做输出使用</p>
<h4 id="5-1-2-执行顺序"><a href="#5-1-2-执行顺序" class="headerlink" title="5.1.2 执行顺序"></a>5.1.2 执行顺序</h4><p>当jsp页面所以代码执行完毕后，会做以下两个操作</p>
<p><strong>1</strong>：执行<code>out.flush()</code>操作，把<code>out</code>缓冲区中数据<strong>追加</strong>写入<code>response</code>缓冲区末尾</p>
<p><strong>2</strong>：会执行<code>response</code>的刷新操作，把全部数据写给客户端</p>
<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/%E8%BE%93%E5%87%BA%E6%B5%81%E5%AF%B9%E6%AF%94.jpg" alt="输出流对比"></p>
<h4 id="5-1-3-细节提示"><a href="#5-1-3-细节提示" class="headerlink" title="5.1.3 细节提示"></a>5.1.3 细节提示</h4><p>**<code>out.write()</code>**：只能输出字符串</p>
<p>**<code>out.print()</code>**：可以输出任何数据类型（都会转换为字符串后调用<code>write</code>输出）</p>
<p><font color="red">在jsp页面中，可以统一使用out.print()来进行输出</font></p>
<h3 id="6-常用标签"><a href="#6-常用标签" class="headerlink" title="6. 常用标签"></a>6. 常用标签</h3><h4 id="6-1-静态包含"><a href="#6-1-静态包含" class="headerlink" title="6.1 静态包含"></a>6.1 静态包含</h4><h5 id="6-1-1-基本格式"><a href="#6-1-1-基本格式" class="headerlink" title="6.1.1 基本格式"></a>6.1.1 基本格式</h5><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ include file="/include/footer.jsp" %&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="6-1-2-简单介绍"><a href="#6-1-2-简单介绍" class="headerlink" title="6.1.2 简单介绍"></a>6.1.2 简单介绍</h5><p><strong>file</strong>:指定你要包含的jsp页面的路径<br>开头的**/**表示<code>http://ip:pport/工程路径/</code> </p>
<h5 id="6-1-3-特点说明"><a href="#6-1-3-特点说明" class="headerlink" title="6.1.3 特点说明"></a>6.1.3 特点说明</h5><p><strong>1</strong>：静态包含不会翻译被包含的jsp页面</p>
<p><strong>2</strong>：静态包含其实是把被包含的jsp也买你的代码拷贝到包含的位置执行<code>out.write()</code>输出</p>
<h4 id="6-2-动态包含"><a href="#6-2-动态包含" class="headerlink" title="6.2 动态包含"></a>6.2 动态包含</h4><h5 id="6-2-1-基本格式"><a href="#6-2-1-基本格式" class="headerlink" title="6.2.1 基本格式"></a>6.2.1 基本格式</h5><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;jsp:incllude page=""&gt;
	&lt;%-- 可以添加参数，可有可无 --%?&gt;
    &lt;jsp:param name="username" value="bbj"/&gt;
&lt;/jsp:incllude&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="6-2-2-简单介绍"><a href="#6-2-2-简单介绍" class="headerlink" title="6.2.2 简单介绍"></a>6.2.2 简单介绍</h5><p><strong>page</strong>：指定你要包含的jsp页面路径<br>和静态包含路径格式一致</p>
<h5 id="6-2-3-特点说明"><a href="#6-2-3-特点说明" class="headerlink" title="6.2.3 特点说明"></a>6.2.3 特点说明</h5><p><strong>1</strong>：动态包含会把包含的jsp页面也翻译成为java代码</p>
<p><strong>2</strong>：动态包含底层代码使用如下代码调用被包含的jsp页面执行输出</p>
<p><code>JsRuntimeLibrary.include(request,response,"路径",out,false)</code></p>
<p><strong>3</strong>：动态包含还可以传递参数</p>
<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/%E5%8A%A8%E6%80%81%E5%8C%85%E5%90%AB.jpg" alt="动态包含"></p>
<h4 id="6-3-标签转发"><a href="#6-3-标签转发" class="headerlink" title="6.3 标签转发"></a>6.3 标签转发</h4><h5 id="6-3-1-基本格式"><a href="#6-3-1-基本格式" class="headerlink" title="6.3.1 基本格式"></a>6.3.1 基本格式</h5><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;jsp:forward page=""&gt;&lt;/jsp:forward&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>page</strong>：设置请求转发的路径</p>
<h3 id="7-Listener监听器"><a href="#7-Listener监听器" class="headerlink" title="7. Listener监听器"></a>7. Listener监听器</h3><h4 id="7-1-基本介绍-1"><a href="#7-1-基本介绍-1" class="headerlink" title="7.1 基本介绍"></a>7.1 基本介绍</h4><p><strong>1</strong>：<code>Listener</code>监听器时<code>JavaWeb</code>的三大组件，三大组件分别是：<code>Servlet</code>程序，<code>Filter</code>过滤器，<code>Listener</code>监听器</p>
<p><strong>2</strong>：<code>Listener</code>是<code>JavaEE</code>规范，就是接口</p>
<p><strong>3</strong>：监听器的作用：监听某种事务的变化，然后通过回调函数，反馈给客户（程序）去做一些相应的处理</p>
<h4 id="7-2-ServletContextListener监听器"><a href="#7-2-ServletContextListener监听器" class="headerlink" title="7.2 ServletContextListener监听器"></a>7.2 ServletContextListener监听器</h4><h5 id="7-2-1-基本介绍"><a href="#7-2-1-基本介绍" class="headerlink" title="7.2.1 基本介绍"></a>7.2.1 基本介绍</h5><p><code>ServletContextListener</code>可以监听<code>ServletContext</code>对象的创建和销毁</p>
<p><code>ServletContext</code>对象在<code>web</code>工程启动的时候创建，在<code>web</code>工程停止的时候销毁</p>
<p>监听到创建和销毁之后都会分别调用<code>ServletContextListener</code>监听器的方法反馈</p>
<h5 id="7-2-2-监听方法"><a href="#7-2-2-监听方法" class="headerlink" title="7.2.2 监听方法"></a>7.2.2 监听方法</h5><p><code>contextInitialized()</code> 初始化时被调用</p>
<p><code>contextDestroyed()</code> 被销毁时被调用</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContextListenerImpl</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * ServletContext被创建时被调用
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ServletContextListener被创建"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * ServletContext被销毁时被调用
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ServletContextListener被销毁"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="7-2-3-创建步骤"><a href="#7-2-3-创建步骤" class="headerlink" title="7.2.3 创建步骤"></a>7.2.3 创建步骤</h5><p><strong>1</strong>：编写一个类去实现<code>ServletContextListener</code>接口</p>
<p><strong>2</strong>：实现其两个回调方法</p>
<p><strong>3</strong>：在<code>web.xml</code>中配置监听器</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--配置监听器--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>com.echochao.ServletContextListenerImpl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="四-EL表达式"><a href="#四-EL表达式" class="headerlink" title="四. EL表达式"></a>四. EL表达式</h2><h3 id="1-基本介绍-2"><a href="#1-基本介绍-2" class="headerlink" title="1. 基本介绍"></a>1. 基本介绍</h3><h4 id="1-1-简单背景"><a href="#1-1-简单背景" class="headerlink" title="1.1 简单背景"></a>1.1 简单背景</h4><p><code>EL表达式</code>全称是：<code>Expression Language</code>，是表达式语言；<br>主要是代替jsp页面中的表达式脚本在jsp页面进行数据输出</p>
<h4 id="1-2-基本格式"><a href="#1-2-基本格式" class="headerlink" title="1.2 基本格式"></a>1.2 基本格式</h4><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">${表达式}
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><code>EL表达式</code>在输出<code>null</code>时，输出的是空串</p>
<h3 id="2-输出数据"><a href="#2-输出数据" class="headerlink" title="2. 输出数据"></a>2. 输出数据</h3><h4 id="2-1-搜索数据顺序"><a href="#2-1-搜索数据顺序" class="headerlink" title="2.1 搜索数据顺序"></a>2.1 搜索数据顺序</h4><p>主要是输出域对象中的数据<br>当四个域中有<strong>相同的key</strong>的时候，<code>EL表达式</code>会按照四个域从小到大的顺序进行搜索</p>
<h4 id="2-2-实际案例"><a href="#2-2-实际案例" class="headerlink" title="2.2 实际案例"></a>2.2 实际案例</h4><p><strong>Person类</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> phones<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> cities<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> phones<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> cities<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>phones <span class="token operator">=</span> phones<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cities <span class="token operator">=</span> cities<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>map <span class="token operator">=</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getPhones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> phones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPhones</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> phones<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>phones <span class="token operator">=</span> phones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getCities</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> cities<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCities</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> cities<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cities <span class="token operator">=</span> cities<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">getMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>map <span class="token operator">=</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Person{"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", phones="</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>phones<span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token string">", cities="</span> <span class="token operator">+</span> cities <span class="token operator">+</span>
                <span class="token string">", map="</span> <span class="token operator">+</span> map <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>test01.jsp</strong></p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page import="com.echochao.Person" %&gt;
&lt;%@ page import="java.util.ArrayList" %&gt;
&lt;%@ page import="java.util.List" %&gt;
&lt;%@ page import="java.util.HashMap" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;EL表达式输出测试&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%
            Person person = new Person();
            person.setName("EchoChao");

            person.setPhones(new String[]{"110","120"});

            List&lt;String&gt; cities = new ArrayList&lt;&gt;();
            cities.add("北京");
            cities.add("南京");
            person.setCities(cities);

            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();
            map.put("key1","value1");
            map.put("key2","value2");
            map.put("key3","value3");
            person.setMap(map);

            request.setAttribute("person",person);

        %&gt;

        &lt;%--实际是调用toString方法--%&gt;
        输出Person:===&gt;${person};&lt;br&gt;
        &lt;%--实际是调用getXxx()方法--%&gt;
        输出Person的name属性：${person.name}&lt;br&gt;

        输出Person的phones数组属性值：${person.phones[0]}&lt;br&gt;

        输出Person的cities集合中的元素值：${person.cities}&lt;br&gt;

        输出Person的List集合中个别元素值：${person.cities[0]}&lt;br&gt;

        输出Person的Map集合：${person.map}&lt;br&gt;

        输出Person的Map集合中某个key的值：${person.map["key1"]}&lt;br&gt;
        输出Person的Map集合中某个key的值：${person.map.key1}&lt;br&gt;


    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-3-本质分析"><a href="#2-3-本质分析" class="headerlink" title="2.3 本质分析"></a>2.3 本质分析</h4><p><strong>1</strong>：输出一个对象的时候调用的是**<code>toString()</code>**方法，如果<code>Person</code>类没有重写该方法，默认输出的是地址</p>
<p><strong>2</strong>：获取对象的属性时调用的是**<code>getXxx()</code><strong>方法，如果没有提供就会出现报错，所以不会破坏</strong>封装性**</p>
<h3 id="3-运算"><a href="#3-运算" class="headerlink" title="3. 运算"></a>3. 运算</h3><h4 id="3-1-关系运算"><a href="#3-1-关系运算" class="headerlink" title="3.1 关系运算"></a>3.1 关系运算</h4><table>
<thead>
<tr>
<th>关系运算符</th>
<th>说明</th>
<th>范例</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>==或eq</td>
<td>等于</td>
<td>${5==5}或${5 eq 5}</td>
<td>true</td>
</tr>
<tr>
<td>!=或ne</td>
<td>不等于</td>
<td>${5!=5}或${5 ne 5}</td>
<td>false</td>
</tr>
<tr>
<td>&lt;或lt</td>
<td>小于</td>
<td>${3&lt;5}或${3 lt 5}</td>
<td>true</td>
</tr>
<tr>
<td>&gt;或gt</td>
<td>大于</td>
<td>${2&gt;10}或${2 gt 10}</td>
<td>false</td>
</tr>
<tr>
<td>&lt;=或le</td>
<td>小于等于</td>
<td>${5&lt;=12}或${5 le 12}</td>
<td>true</td>
</tr>
<tr>
<td>&gt;=或ge</td>
<td>大于等于</td>
<td>${3&gt;=5}或${3 ge 5}</td>
<td>false</td>
</tr>
</tbody></table>
<h4 id="3-2-逻辑运算"><a href="#3-2-逻辑运算" class="headerlink" title="3.2 逻辑运算"></a>3.2 逻辑运算</h4><table>
<thead>
<tr>
<th>逻辑运算符</th>
<th>说明</th>
<th>范例</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;&amp;或and</td>
<td>与运算</td>
<td>${12==12 &amp;&amp; 12&lt;11}或${12==12 and 12&lt;11}</td>
<td>false</td>
</tr>
<tr>
<td>||或or</td>
<td>或运算</td>
<td>${12==12 || 12&lt;11}或{12==12 or 12&lt;11}</td>
<td>true</td>
</tr>
<tr>
<td>!或not</td>
<td>取反运算</td>
<td>${!true}或${not true}</td>
<td>false</td>
</tr>
</tbody></table>
<h4 id="3-3-算数运算"><a href="#3-3-算数运算" class="headerlink" title="3.3 算数运算"></a>3.3 算数运算</h4><table>
<thead>
<tr>
<th>算数运算符</th>
<th>说明</th>
<th>范例</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>加法</td>
<td>${12+18}</td>
<td>30</td>
</tr>
<tr>
<td>-</td>
<td>减法</td>
<td>${18-8}</td>
<td>10</td>
</tr>
<tr>
<td>**</td>
<td>乘法</td>
<td>${12*12}</td>
<td>144</td>
</tr>
<tr>
<td>/或div</td>
<td>除法</td>
<td>${144/12}或${144 div 12}</td>
<td>12.0</td>
</tr>
<tr>
<td>%或mod</td>
<td>取模</td>
<td>${144 % 10}或${144 mod 10}</td>
<td>4</td>
</tr>
</tbody></table>
<h4 id="3-4-empty运算"><a href="#3-4-empty运算" class="headerlink" title="3.4 empty运算"></a>3.4 <code>empty</code>运算</h4><p><code>empty</code>运算可以判断一个数据是否为空，如果为空，则输出<code>trtue</code>，不为空输出<code>false</code></p>
<p>以下情况为空：</p>
<ol>
<li>值为<code>null</code>值的时候，为空</li>
<li>值为空串的时候，为空</li>
<li>值是Object类型数组，长度为零的时，为空</li>
<li>list集合，元素个数为0时，为空</li>
<li>map集合，元素个数为零时，为空</li>
</ol>
<h4 id="3-5-点运算和-中括号运算符"><a href="#3-5-点运算和-中括号运算符" class="headerlink" title="3.5 .点运算和[]中括号运算符"></a>3.5 <code>.</code>点运算和<code>[]</code>中括号运算符</h4><p><code>.</code>点运算符，可以输出<code>Bean</code>对象中某个属性的值<br><code>[]</code>中括号运算符，可以输出有序集合中某个元素的值<br>并且<code>[]</code>中括号运算，还可以输出<code>map</code>集合中的<code>key</code>里含有特殊字符的<code>key</code>的值</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page import="com.echochao.Person" %&gt;
&lt;%@ page import="java.util.ArrayList" %&gt;
&lt;%@ page import="java.util.List" %&gt;
&lt;%@ page import="java.util.HashMap" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;EL表达式输出测试&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%
            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();
            map.put("key1","value1");
            map.put("key2","value2");
            map.put("key3","value3");
            person.setMap(map);

            request.setAttribute("map",map);
        %&gt;

        输出map的key1值：${map.key1}&lt;br&gt;
        输出map的key1值：${map["key1"]}&lt;br&gt;
        &lt;%--不能使用.点运算符--%&gt;
        输出map的a-a-a的值：${map["a-a-a"]}
    
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="4-隐含对象"><a href="#4-隐含对象" class="headerlink" title="4. 隐含对象"></a>4. 隐含对象</h3><h4 id="4-1-基本介绍"><a href="#4-1-基本介绍" class="headerlink" title="4.1 基本介绍"></a>4.1 基本介绍</h4><table>
<thead>
<tr>
<th>变量</th>
<th>类型</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>PageContextImpl</td>
<td>可以获取jsp中的九大内置对象</td>
</tr>
<tr>
<td>pageScope</td>
<td>Map&lt;String,Object&gt;</td>
<td>可以获取pageContext域中的数据</td>
</tr>
<tr>
<td>requestScope</td>
<td>Map&lt;String,Object&gt;</td>
<td>可以数据Request域中的数据</td>
</tr>
<tr>
<td>sessionScope</td>
<td>Map&lt;String,Object&gt;</td>
<td>可以以获取Session域中的数据</td>
</tr>
<tr>
<td>applicationScope</td>
<td>Map&lt;String,Object&gt;</td>
<td>可以获取ServletContext域中的数据</td>
</tr>
<tr>
<td>param</td>
<td>Map&lt;String,String&gt;</td>
<td>可以获取请求参数的值</td>
</tr>
<tr>
<td>paramValues</td>
<td>Map&lt;String,String[]&gt;</td>
<td>可以获取请求参数的值（获取多个值时使用）</td>
</tr>
<tr>
<td>header</td>
<td>Map&lt;String,String&gt;</td>
<td>可以获取请求头的信息</td>
</tr>
<tr>
<td>headerValues</td>
<td>Map&lt;String,String[]&gt;</td>
<td>可以获取请求头的信息（获取多个值时使用）</td>
</tr>
<tr>
<td>cookie</td>
<td>Map&lt;String,Cookie&gt;</td>
<td>可以获取当前请求的Cookie的值</td>
</tr>
<tr>
<td>initParam</td>
<td>Map&lt;String,String&gt;</td>
<td>可以获取在web.xml中配置<context-param>上下文参数</context-param></td>
</tr>
</tbody></table>
<h4 id="4-2-获取四个特定域中的数据"><a href="#4-2-获取四个特定域中的数据" class="headerlink" title="4.2 获取四个特定域中的数据"></a>4.2 获取四个特定域中的数据</h4><p>pageScope             ===&gt;&gt;&gt;         pageContext 域<br>requestScope        ===&gt;&gt;&gt;        Request 域<br>sessionScope         ===&gt;&gt;&gt;        Session 域<br>applicationScope  ===&gt;&gt;&gt;       ServletContext 域</p>
<p><strong>基本使用</strong></p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;四个特定域&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%
            pageContext.setAttribute("key1","pageContext1");
            pageContext.setAttribute("key2","pageContext2");
            request.setAttribute("key2","request");
            session.setAttribute("key2","session");
            application.setAttribute("key1","application");
        %&gt;
        &lt;%--默认是从小范围的域到大范围的域--%&gt;
        ${key1}&lt;br&gt;
        ${applicationScope.key1}&lt;br&gt;

        ${requestScope.key2}&lt;br&gt;

    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="4-3-pageContext"><a href="#4-3-pageContext" class="headerlink" title="4.3 pageContext"></a>4.3 <code>pageContext</code></h4><h5 id="4-3-1-常见使用"><a href="#4-3-1-常见使用" class="headerlink" title="4.3.1 常见使用"></a>4.3.1 常见使用</h5><ol>
<li>协议</li>
<li>服务器ip</li>
<li>服务器端口</li>
<li><font color="red">获取工程路径</font></li>
<li>获取请求方法</li>
<li>获取客户端ip地址</li>
<li>获取会话的id编号</li>
</ol>
<h5 id="4-3-2-实际使用"><a href="#4-3-2-实际使用" class="headerlink" title="4.3.2 实际使用"></a>4.3.2 实际使用</h5><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%--
            同等效果的java代码
            1.协议：request.getScheme()
            2.服务器ip：request.getServerName()
            3.服务器端口：request.getServerPort()
            4.工程路径：request.getContextPath()
            5.请求方法：request.getMethod()
            6.客户端ip地址：request.getRemoteHost()
            7.会话的id编号：session.gettId()
        --%&gt;
        &lt;%--可以继续改进，来减少代码--%&gt;
        &lt;%
            pageContext.setAttribute("req",request);
        %&gt;
        1.协议===&gt;${req.scheme}===&gt;一摸一样的&lt;br&gt;
        1.协议===&gt;${pageContext.request.scheme}&lt;br&gt;
        2.服务器ip===&gt;${pageContext.request.serverName}&lt;br&gt;
        3.服务器端口===&gt;${pageContext.request.serverPort}&lt;br&gt;
        4.工程路径===&gt;${pageContext.request.contextPath}&lt;br&gt;
        5.请求方法===&gt;${pageContext.request.method}&lt;br&gt;
        6.客户端ip地址===&gt;${pageContext.request.remoteHost}&lt;br&gt;
        7.会话的id编号===&gt;${pageContext.session.id}&lt;br&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="4-3-3-优化代码"><a href="#4-3-3-优化代码" class="headerlink" title="4.3.3 优化代码"></a>4.3.3 优化代码</h5><p><strong>将内置对象放于域中减少代码量</strong></p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%
	pageContext.setAttribute("req",request);
%&gt;
1.协议===&gt;${req.scheme}===&gt;一摸一样的&lt;br&gt;
1.协议===&gt;${pageContext.request.scheme}&lt;br&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="4-4-其他隐含对象"><a href="#4-4-其他隐含对象" class="headerlink" title="4.4 其他隐含对象"></a>4.4 其他隐含对象</h4><p><strong>实际案例</strong></p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%--参数可以通过浏览器地址栏手动添加
            ?username=168&amp;password=123&amp;username=echo
        --%&gt;
        &lt;%--默认获取第一个--%&gt;
        输出请求参数username的值：${param.username}&lt;br&gt;
        输出请求参数password的值：${param.password}&lt;br&gt;
        &lt;%--获取多个值时使用，类似于兴趣爱好之类--%&gt;
        输出请求参数username[]的第2个值：${paramValues.username[1]}&lt;br&gt;
        &lt;hr&gt;
        &lt;%--获取请求头的信息--%&gt;
        输出请求头的[User-Agent]的值：${header["User-Agent"]}&lt;br&gt;
        输出请求头的[Connection]的值：${header.Connection}&lt;br&gt;
        &lt;%--如果有多个信息--%&gt;
        输出请求头的[User-Agent]的值：${headerValues["User-Agent"][0]}&lt;br&gt;
        &lt;hr&gt;
        输出当前请求的Cookie的全部值：${cookie}&lt;br&gt;
        输出当前请求的Cookie的name的值：${cookie.JSESSIONID.name}&lt;br&gt;
        输出当前请求的Cookie的value的值：${cookie["Idea-1b5283e0"].value}&lt;br&gt;
        &lt;hr&gt;
        输出web.xml中配置的&lt;context-param&gt;上下文参数：${initParam}&lt;br&gt;
        输出web.xml中配置的&lt;context-param&gt;上下文参数url的值：${initParam.url}&lt;br&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="五-JSTL标签库"><a href="#五-JSTL标签库" class="headerlink" title="五. JSTL标签库"></a>五. JSTL标签库</h2><h3 id="1-基本介绍-3"><a href="#1-基本介绍-3" class="headerlink" title="1. 基本介绍"></a>1. 基本介绍</h3><h4 id="1-1-简单背景-1"><a href="#1-1-简单背景-1" class="headerlink" title="1.1 简单背景"></a>1.1 简单背景</h4><blockquote>
<p>JSTL 标签库全称是指JSP Standard Tag Library JSP 标准标签库。是一个不断完善的开放源代码的JSP 标签库<br>标签库是为了替换代码脚本，这样使得整个jsp 页面变得更佳简洁</p>
</blockquote>
<h4 id="1-2-五个标签库"><a href="#1-2-五个标签库" class="headerlink" title="1.2 五个标签库"></a>1.2 五个标签库</h4><table>
    <tbody><tr>
        <th>功能范围</th>
        <th>URI</th>
        <th>前缀</th>
    </tr>
    <tr style="color: red">
        <td>核心标签库</td>
        <td>http://java.sun.com/jsp/jstl/core</td>
        <td>c</td>
    </tr>
    <tr>
        <td>格式化</td>
        <td>http://java.sun.com/jsp/jstl/fmt</td>
        <td>fmt</td>
    </tr>
    <tr>
        <td>函数</td>
        <td>http://java.sun.com/jsp/jstl/functions</td>
        <td>fn</td>
    </tr>
    <tr>
        <td>数据库<font color="red">(不常用)</font></td>
        <td>http://java.sun.com/jsp/jstl/sql</td>
        <td>sql</td>
    </tr>
    <tr>
        <td>XML<font color="red">(不常用)</font></td>
        <td>http://java.sun.com/jsp/jstl/xml</td>
        <td>x</td>
    </tr>
</tbody></table>

<h3 id="2-基本使用-1"><a href="#2-基本使用-1" class="headerlink" title="2. 基本使用"></a>2. 基本使用</h3><h4 id="2-1-使用前奏"><a href="#2-1-使用前奏" class="headerlink" title="2.1 使用前奏"></a>2.1 使用前奏</h4><p><strong>1</strong>：导入<code>JSTL</code>标签库的<code>jar</code>包</p>
<p><strong>2</strong>：使用<code>taglib</code>指令引入标签库</p>
<h4 id="2-2-core核心库"><a href="#2-2-core核心库" class="headerlink" title="2.2 core核心库"></a>2.2 <code>core</code>核心库</h4><h5 id="2-2-1-lt-c-set-gt"><a href="#2-2-1-lt-c-set-gt" class="headerlink" title="2.2.1  <c:set />"></a>2.2.1  <code>&lt;c:set /&gt;</code></h5><h6 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h6><p><code>set</code>标签可以往域中保存数据</p>
<h6 id="实际案例"><a href="#实际案例" class="headerlink" title="实际案例"></a>实际案例</h6><p><code>&lt;c:set scope="" var="" value="" /&gt;</code></p>
<p>**<code>scope</code>**：保存到哪个域</p>
<p>**<code>var</code>**：变量名</p>
<p>**<code>value</code>**：变量值</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
    &lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%--core核心库--%&gt;
        &lt;%--&lt;c:set /&gt;--%&gt;
        保存之前：${sessionScope.abc}&lt;br&gt;
        &lt;%--
            scope:保存到哪个域
            var:变量名
            value:变量值
        --%&gt;
        &lt;c:set scope="session" var="abc" value="999"&gt;&lt;/c:set&gt;
        保存之后：${sessionScope.abc}&lt;br&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="2-2-2-lt-c-if-gt"><a href="#2-2-2-lt-c-if-gt" class="headerlink" title="2.2.2 <c:if />"></a>2.2.2 <code>&lt;c:if /&gt;</code></h5><h6 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h6><p><code>if</code>标签用来做<code>if</code>判断</p>
<p><strong>实际案例</strong></p>
<p><code>&lt;c:if test="${12==12}"&gt;html语句&lt;/c:if&gt;</code></p>
<p>**<code>test</code>**：表示判断的条件（用<code>EL</code>表达式输出）</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
    &lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%--core核心库--%&gt;
        &lt;%--&lt;c:if &gt;--%&gt;
        &lt;c:if test="${sessionScope.abc==999}"&gt;
            &lt;h1&gt;条件成立&lt;/h1&gt;&lt;br&gt;
        &lt;/c:if&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="2-2-3-lt-c-choose-gt-lt-c-when-gt-lt-c-otherwise-gt"><a href="#2-2-3-lt-c-choose-gt-lt-c-when-gt-lt-c-otherwise-gt" class="headerlink" title="2.2.3 <c:choose><c:when><c:otherwise>"></a>2.2.3 <code>&lt;c:choose&gt;&lt;c:when&gt;&lt;c:otherwise&gt;</code></h5><h6 id="作用-2"><a href="#作用-2" class="headerlink" title="作用"></a>作用</h6><p>多路判断，跟<code>swith...case...default</code>非常接近</p>
<h6 id="实际案例-1"><a href="#实际案例-1" class="headerlink" title="实际案例"></a>实际案例</h6><p><code>&lt;c:choose&gt;</code>：一个大体的框架</p>
<p><code>&lt;c:when test="${}"&gt;</code>：具体的判断条件，条件使用<code>EL</code>表达式书写</p>
<p><code>&lt;c:otherwise&gt;</code>：其余情况，内部继续判断时需要继续使用<code>&lt;c:choose&gt;</code></p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
    &lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%--core核心库--%&gt;
        &lt;%--&lt;c:choose&gt;&lt;c:when&gt;&lt;c:otherwise&gt;--%&gt;
        &lt;%
            request.setAttribute("high",160);
        %&gt;
        &lt;c:choose&gt;
            &lt;c:when test="${requestScope.high&gt;190}"&gt;小巨人&lt;/c:when&gt;
            &lt;c:when test="${requestScope.high&gt;180}"&gt;大个子&lt;/c:when&gt;
            &lt;c:when test="${requestScope.high&gt;170}"&gt;中等个&lt;/c:when&gt;
            &lt;c:when test="${requestScope.high&gt;160}"&gt;不太高&lt;/c:when&gt;
            &lt;c:otherwise&gt;
                &lt;%--嵌套的话，必须再使用&lt;c:choose&gt;--%&gt;
                &lt;c:choose&gt;
                    &lt;c:when test="${requestScope.high&gt;150}"&gt;最低线&lt;/c:when&gt;
                    &lt;c:otherwise&gt;太矮了&lt;/c:otherwise&gt;
                &lt;/c:choose&gt;
            &lt;/c:otherwise&gt;
        &lt;/c:choose&gt;&lt;br&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="2-2-4-lt-c-forEach-gt"><a href="#2-2-4-lt-c-forEach-gt" class="headerlink" title="2.2.4 <c:forEach />"></a>2.2.4 <code>&lt;c:forEach /&gt;</code></h5><h6 id="作用-3"><a href="#作用-3" class="headerlink" title="作用"></a>作用</h6><p>遍历输出使用</p>
<h6 id="a-遍历1到10输出"><a href="#a-遍历1到10输出" class="headerlink" title="a. 遍历1到10输出"></a>a. 遍历1到10输出</h6><p><code>&lt;c:forEach begin="" end="" var=""</code></p>
<p><strong><code>begin</code></strong>:开始的索引</p>
<p><strong><code>end</code></strong>:结束的索引</p>
<p><strong><code>var</code></strong>:循环的变量（也就是正在遍历的数据）</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%--遍历1到10--%&gt;
&lt;c:forEach begin="1" end="10" var="i"&gt;
    第${i}行&lt;br&gt;
&lt;/c:forEach&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="b-遍历Object数组"><a href="#b-遍历Object数组" class="headerlink" title="b. 遍历Object数组"></a>b. 遍历<code>Object</code>数组</h6><p><code>&lt;c:forEach items="" var=""</code>&gt;</p>
<p><strong><code>items</code></strong>:需要遍历的数组</p>
<p><strong><code>var</code></strong>:正在遍历的数据的名字</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%--遍历Object数组--%&gt;
&lt;%
request.setAttribute("items",new String[]{"110","120","119"});
%&gt;
&lt;c:forEach items="${requestScope.items}" var="item"&gt;
    ${item}&lt;br&gt;
&lt;/c:forEach&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="c-遍历Map集合"><a href="#c-遍历Map集合" class="headerlink" title="c. 遍历Map集合"></a>c. 遍历<code>Map</code>集合</h6><p><code>&lt;c:forEach items="" var=""</code>&gt;</p>
<p><strong><code>items</code></strong>:需要遍历的数组</p>
<p><strong><code>var</code></strong>:正在遍历的数据的名字</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page import="java.util.HashMap" %&gt;
&lt;%@ page import="java.util.Map" %&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
    &lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%--core核心库--%&gt;
        &lt;%--遍历Map--%&gt;
        &lt;%
            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();
            map.put("key1","val1");
            map.put("key2","val2");
            map.put("key3","val3");
            request.setAttribute("map",map);
        %&gt;
        &lt;c:forEach items="${requestScope.map}" var="entry"&gt;
            ${entry}&lt;br&gt;
            ${entry.key}==${entry.value}&lt;br&gt;
        &lt;/c:forEach&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="d-遍历List集合"><a href="#d-遍历List集合" class="headerlink" title="d. 遍历List集合"></a>d. 遍历<code>List</code>集合</h6><p><code>&lt;c:forEach begin="2" end="9" step="2" items="${requestScope.students}" var="student"&gt;</code></p>
<p>**<code>begin</code>**：从0开始</p>
<p>**<code>end</code>**：结束位置（包含）</p>
<p>**<code>step</code>**：每次跳过位置（相当于<code>i+=step</code>）</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page import="java.util.HashMap" %&gt;
&lt;%@ page import="java.util.Map" %&gt;
&lt;%@ page import="java.util.ArrayList" %&gt;
&lt;%@ page import="com.echochao.Student" %&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
    &lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;%--core核心库--%&gt;
        &lt;%--遍历List集合--%&gt;
        &lt;%
            ArrayList&lt;Student&gt; students = new ArrayList&lt;&gt;();
            for(int i=0;i&lt;10;i++){
                students.add(new Student(i,"name"+i,"pass"+i,18+i,"180"+i));
            }
            request.setAttribute("students",students);
        %&gt;
        &lt;c:forEach begin="2" end="9" step="2" items="${requestScope.students}" var="student"&gt;
            ${student}&lt;br&gt;
        &lt;/c:forEach&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="六-文件上传与下载"><a href="#六-文件上传与下载" class="headerlink" title="六. 文件上传与下载"></a>六. 文件上传与下载</h2><h3 id="1-文件上传"><a href="#1-文件上传" class="headerlink" title="1. 文件上传"></a>1. 文件上传</h3><h4 id="1-1-基本内容"><a href="#1-1-基本内容" class="headerlink" title="1.1 基本内容"></a>1.1 基本内容</h4><p><strong>1</strong>：需要一个<code>form</code>标签，<code>method=post</code>请求</p>
<p><strong>2</strong>：<code>form</code>标签的<code>encType</code>属性值必须为<code>multipart/form-data</code>值</p>
<p><strong>3</strong>：在<code>form</code>标签中使用<code>input type=file</code>添加上传的文件</p>
<p><strong>4</strong>：编写服务器代码（<code>Servlet</code>程序）接受，处理上传的数据</p>
<p><code>encType=multipart/form-data</code>表示提交的数据，以多段（每一个表单项一个数据库）的形式进行拼接，然后以二进制流的形式发送给服务器</p>
<h4 id="1-2-HTTP协议的说明"><a href="#1-2-HTTP协议的说明" class="headerlink" title="1.2 HTTP协议的说明"></a>1.2 HTTP协议的说明</h4><p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/HTTP%E5%8D%8F%E8%AE%AE%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6.jpg" alt="协议说明"></p>
<h4 id="1-3-fileupload类库"><a href="#1-3-fileupload类库" class="headerlink" title="1.3 fileupload类库"></a>1.3 <code>fileupload</code>类库</h4><p><strong>先要导入<code>jar</code>包</strong></p>
<p><strong>常用方法</strong></p>
<p><strong>ServletFileUpload类</strong>：用于解析上传的数据</p>
<p><strong>FileItem类</strong>：表示每一个表单项</p>
<p><strong>1</strong>：<code>boolean ServletFileUpload.isMultipartContent(HttpServletRequest request)</code></p>
<p>判断当前上传的数据格式是否是多段的格式 </p>
<p><strong>2</strong>：<code>public List&lt;FileItem&gt; parseRequest(HttpServletRequest request)</code></p>
<p>解析上传的数据</p>
<p><strong>3</strong>：<code>boolean FileItem.isFormField()</code></p>
<p>判断当前这个表单项，是否是普通的表单项。还是上传的文件类型。<br>true 表示普通类型的表单项<br>false 表示上传的文件类型</p>
<p><strong>4</strong>：<code>String FileItem.getFieldName()</code><br>获取表单项的name 属性值</p>
<p><strong>5</strong>：<code>String FileItem.getString()</code><br>获取当前表单项的值。<br><strong>6</strong>：<code>String FileItem.getName()</code><br>获取上传的文件名<br><strong>7</strong>：<code>void FileItem.write( file )</code><br>将上传的文件写到参数file 所指向抽硬盘位置</p>
<h4 id="1-4-实际案例"><a href="#1-4-实际案例" class="headerlink" title="1.4 实际案例"></a>1.4 实际案例</h4><p><strong>上传表单</strong></p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;上传文件&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;form action="http://localhost:8080/EL_JSTL/upload" method="post" enctype="multipart/form-data"&gt;
            &lt;table&gt;
                &lt;tr&gt;
                    &lt;td&gt;用户名&lt;/td&gt;
                    &lt;td&gt;
                        &lt;input name="username" type="text" value="echo"&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;上传文件&lt;/td&gt;
                    &lt;td&gt;
                        &lt;input type="file" name="file"&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td colspan="2"&gt;
                        &lt;input type="submit" value="提交"&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
            &lt;/table&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>接收的Servlet</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UpLoad</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"上传文件了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//1.先判断上传的数据是否是多段数据（只有是多段数据，才是文件上传）</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">ServletFileUpload</span><span class="token punctuation">.</span><span class="token function">isMultipartContent</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//创建FileItemFactory工厂实现类</span>
            <span class="token class-name">FileItemFactory</span> fileItemFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DiskFileItemFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//创建用于解析上传数据的工具类ServletFileLoad类</span>
            <span class="token class-name">ServletFileUpload</span> servletFileUpload <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletFileUpload</span><span class="token punctuation">(</span>fileItemFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//解析上传的数据，得到每一个表单数据FileItem</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileItem</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> servletFileUpload<span class="token punctuation">.</span><span class="token function">parseRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//循环判断，每一个表单项是普通类型还是上传的文件</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">FileItem</span> fileItem<span class="token operator">:</span>list<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>fileItem<span class="token punctuation">.</span><span class="token function">isFormField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token comment">//普通表单项</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"表单项的name属性值："</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getFieldName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"表单项的value属性值："</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                        <span class="token comment">//上传的文件</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"表单项的name属性值："</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getFieldName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"上传的文件名："</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        fileItem<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"D:\\"</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="1-5-步骤分析"><a href="#1-5-步骤分析" class="headerlink" title="1.5 步骤分析"></a>1.5 步骤分析</h4><p><strong>1</strong>：判断上传的数据是否是多段数据（只有是多段数据才是上传文件）</p>
<p><strong>2</strong>：创建<code>FileItemFactory</code>工厂实现类</p>
<p><strong>3</strong>：创建用于解析上传数据的工具类<code>ServletFileLoad</code>类</p>
<p><strong>4</strong>：解析上传的数据，得到每一个表单数据<code>FileItem</code></p>
<p><strong>5</strong>：循环判断，每一个表单项是普通类型还是上传的文件</p>
<p><strong>6</strong>：普通类型和文件分开处理</p>
<h3 id="2-文件下载"><a href="#2-文件下载" class="headerlink" title="2. 文件下载"></a>2. 文件下载</h3><h4 id="2-1-基本步骤"><a href="#2-1-基本步骤" class="headerlink" title="2.1 基本步骤"></a>2.1 基本步骤</h4><p><strong>1</strong>：获取需要下载的文件名</p>
<p><strong>2</strong>：获取<code>ServletContext</code></p>
<p><strong>3</strong>：在回传前，通过响应头告诉客户端返回的数据类型</p>
<p><strong>4</strong>：设置下载类型，<code>fileName</code>默认下载名</p>
<p><strong>5</strong>：读取要下载的文件内容（通过<code>ServletContext</code>对象读取）</p>
<p><strong>6</strong>：获取响应的输出流</p>
<p><strong>7</strong>：读取输入流全部的数据，复制给输出流，输出给客户端</p>
<h4 id="2-2-解决乱码问题"><a href="#2-2-解决乱码问题" class="headerlink" title="2.2 解决乱码问题"></a>2.2 解决乱码问题</h4><h5 id="2-2-1-谷歌-IE"><a href="#2-2-1-谷歌-IE" class="headerlink" title="2.2.1 谷歌/IE"></a>2.2.1 谷歌/IE</h5><p><code>attachment; fileName=" + URLEncoder.encode("中文名.jpg", "编码格式")</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">"attachment; fileName="</span> <span class="token operator">+</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"中文名.jpg"</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Disposition"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="2-2-2-火狐FireFox"><a href="#2-2-2-火狐FireFox" class="headerlink" title="2.2.2 火狐FireFox"></a>2.2.2 火狐FireFox</h5><p><strong>Base64编解码</strong></p>
<p><code>=?charset?B?xxxxx?=</code> 现在我们对这段内容进行一下说明。<br><code>=?</code> 表示编码内容的开始<br><code>charset</code> 表示字符集<br><code>B </code>表示BASE64 编码<br><code>xxxx</code> 表示文件名BASE64 编码后的内容<br><code>?=</code> 表示编码内容的结束</p>
<p><code>attachment; fileName=?UTF-8?B?"+new BASE64Encoder().encode("文件名".getBytes("编码格式"))+"?=</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> str<span class="token operator">=</span><span class="token string">"attachment; fileName=?UTF-8?B?"</span>
    <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">BASE64Encoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"中国.jpg"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"?="</span><span class="token punctuation">;</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Disposition"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="2-3-实际案例"><a href="#2-3-实际案例" class="headerlink" title="2.3 实际案例"></a>2.3 实际案例</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Download</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.获取要下载的文件名</span>
        <span class="token class-name">String</span> downloadFileName<span class="token operator">=</span><span class="token string">"d.png"</span><span class="token punctuation">;</span>

        <span class="token comment">//2.获取ServletContext</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.在回传前，通过响应头告诉客户端返回的数据类型</span>
        <span class="token class-name">String</span> mimeType <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getMimeType</span><span class="token punctuation">(</span><span class="token string">"/File/"</span> <span class="token operator">+</span> downloadFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span>mimeType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mimeType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//4.设置下载类型，fileName是默认下载名</span>
        <span class="token class-name">String</span> <span class="token class-name">UAHeader</span> <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">"User-Agent"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">UAHeader</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"FireFox"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">String</span> str<span class="token operator">=</span><span class="token string">"attachment; fileName=?UTF-8?B?"</span>
                    <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">BASE64Encoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"中国.jpg"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"?="</span><span class="token punctuation">;</span>
            response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Disposition"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">"attachment; fileName="</span> <span class="token operator">+</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"中文名.jpg"</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Disposition"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//5.读取要下载的文件内容(通过ServletContext对象可以读取)</span>
        <span class="token comment">//Maven管理要放在.class之下</span>
        <span class="token class-name">InputStream</span> resourceAsStream <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"/File/"</span> <span class="token operator">+</span> downloadFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//6.获取响应的输出流</span>
        <span class="token class-name">ServletOutputStream</span> outputStream <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//7.读取输入流全部的数据，复制给输出流，输出给客户端</span>
        <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>resourceAsStream<span class="token punctuation">,</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="七-Cookie"><a href="#七-Cookie" class="headerlink" title="七. Cookie"></a>七. Cookie</h2><h3 id="1-基本介绍-4"><a href="#1-基本介绍-4" class="headerlink" title="1. 基本介绍"></a>1. 基本介绍</h3><p><code>Cookie</code>是服务器通知客户端保存键值对的一种技术<br>客户端有了<code>Cookie</code>后，每次请求都会发送给服务器<br>每个<code>Cookie</code>大小不超过<code>4kb</code></p>
<h3 id="2-Cookie使用"><a href="#2-Cookie使用" class="headerlink" title="2. Cookie使用"></a>2. <code>Cookie</code>使用</h3><h4 id="2-1-创建Cookie"><a href="#2-1-创建Cookie" class="headerlink" title="2.1 创建Cookie"></a>2.1 创建<code>Cookie</code></h4><p><strong>1</strong>：创建<code>Cookie</code>对象</p>
<p><strong>2</strong>：通知客户端保存<code>Cookie</code></p>
<p><em>代码展示</em></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">createCookie</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

    <span class="token comment">//1.创建Cookie对象</span>
    <span class="token class-name">Cookie</span> cookie01<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"key1"</span><span class="token punctuation">,</span><span class="token string">"value1"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2.通知客户端保存Cookie</span>
    response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie01<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//1.创建Cookie对象</span>
    <span class="token class-name">Cookie</span> cookie02<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"key2"</span><span class="token punctuation">,</span><span class="token string">"value2"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2.通知客户端保存Cookie</span>
    response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie02<span class="token punctuation">)</span><span class="token punctuation">;</span>

    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Cookie创建成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/%E5%88%9B%E5%BB%BACookie.jpg" alt="创建Cookie"></p>
<h4 id="2-2-获取Cookie"><a href="#2-2-获取Cookie" class="headerlink" title="2.2 获取Cookie"></a>2.2 获取<code>Cookie</code></h4><p><strong>一行代码足以</strong>：<code>request.getCookies()</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

    <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//getName返回Cookie的key（名）</span>
        <span class="token comment">//getValue返回Cookie的value（值）</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Cookie["</span> <span class="token operator">+</span> cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"]="</span><span class="token operator">+</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-3-修改Cookie"><a href="#2-3-修改Cookie" class="headerlink" title="2.3 修改Cookie"></a>2.3 修改<code>Cookie</code></h4><h5 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h5><p><strong>1</strong>：先创建一个要修改的同名（指key）的<code>Cookie</code>对象</p>
<p><strong>2</strong>：在构造器中，赋予新的<code>Cookie</code>值</p>
<p><strong>3</strong>：调用<code>response.addCookie(Cookie)</code></p>
<h5 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h5><p><strong>1</strong>：先查找到需要修改的<code>Cookie</code>对象</p>
<p><strong>2</strong>：调用<code>setValue()</code>方法赋予新的<code>Cookie</code>值</p>
<p><strong>3</strong>：调用<code>response.addCookie()</code>通知客户端保存修改</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">updateCookie</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

    <span class="token comment">//方法一</span>
    <span class="token comment">//1.创建需要修改的同名Cookie，并赋予新值</span>
    <span class="token class-name">Cookie</span> cookie<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"key1"</span><span class="token punctuation">,</span> <span class="token string">"newValue1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//2.通知浏览器修改Cookie值</span>
    response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//方法二</span>
    <span class="token class-name">Cookie</span> findCookie <span class="token operator">=</span> <span class="token class-name">CookieUtils</span><span class="token punctuation">.</span><span class="token function">findCookie</span><span class="token punctuation">(</span><span class="token string">"key2"</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>findCookie<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        findCookie<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">"newKey2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>findCookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-4-Cookie的生命控制"><a href="#2-4-Cookie的生命控制" class="headerlink" title="2.4 Cookie的生命控制"></a>2.4 <code>Cookie</code>的生命控制</h4><p><code>setMaxAge()</code></p>
<p><em>正数</em>：表示在指定的秒数后过期</p>
<p><em>负数</em>：表示浏览器一关，<code>Cookie</code>就会被删除（默认值是-1）</p>
<p><em>零</em>：表示马上删除<code>Cookie</code></p>
<h4 id="2-5-Cookie有效路径Path"><a href="#2-5-Cookie有效路径Path" class="headerlink" title="2.5 Cookie有效路径Path"></a>2.5 <code>Cookie</code>有效路径<code>Path</code></h4><p><code>Cookie</code>的<code>path</code>属性可以有效的过滤哪些<code>Cookie</code>可以发送给服务器，哪些不发</p>
<p><strong>案例分析</strong></p>
<p><code>CookieA    path=/工程路径</code> </p>
<p><code>CookieB path=/工程路径/abc</code></p>
<p>请求地址：</p>
<p><code>http://ip:port/工程路径/a.html</code></p>
<p>​    <code>CookieA</code>发送</p>
<p>​    <code>CookieB</code>不发送</p>
<p><code>http://ip:port/工程路径/abc/a.html</code></p>
<p>​    <code>CookieA</code>发送</p>
<p>​    <code>CookieB</code>发送 </p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">testPath</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Cookie</span> cookie<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"path1"</span><span class="token punctuation">,</span><span class="token string">"path1"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置为===&gt;&gt;&gt;/工程路径/abc</span>
    cookie<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"/abc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"创建了一个带有Path路径的Cookie"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="3-免输入用户名登录"><a href="#3-免输入用户名登录" class="headerlink" title="3. 免输入用户名登录"></a>3. 免输入用户名登录</h3><p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/Login.jpg" alt="免输入用户名登录"></p>
<p><strong><code>login</code>页面</strong></p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;登录界面&lt;/title&gt;
        &lt;base href="http://localhost:8080/Cookie_Session/"&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;form action="cookieServlet?action=login" method="post"&gt;
            用户名：&lt;input type="text" value="${cookie.username.value}" name="username"&gt;&lt;br&gt;
            密码：&lt;input type="password" name="password"&gt;
            &lt;input type="submit" value="提交"&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>Servlet程序</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"echo"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token string">"123"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Cookie</span> usernameCookie<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span>username <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置一周内有效</span>
        usernameCookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>usernameCookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"登录成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"登陆失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="八-Session会话"><a href="#八-Session会话" class="headerlink" title="八. Session会话"></a>八. Session会话</h2><h3 id="1-基本会话"><a href="#1-基本会话" class="headerlink" title="1. 基本会话"></a>1. 基本会话</h3><p><code>Session</code>就一个接口<code>HttpSession</code><br><code>Session</code>就是会话，是用来维护一个客户端和服务器之间关联的一种技术<br>每个客户端都有一个<code>Session</code>会话<br><code>Session</code>会话中，经常用来保存用户登录之后的信息</p>
<h3 id="2-基本使用-2"><a href="#2-基本使用-2" class="headerlink" title="2. 基本使用"></a>2. 基本使用</h3><h4 id="2-1-创建Session"><a href="#2-1-创建Session" class="headerlink" title="2.1 创建Session"></a>2.1 创建<code>Session</code></h4><p><code>request.getSession()</code></p>
<p>​    第一次调用：创建<code>Session</code>会话</p>
<p>​    之后调用是：获取前面创建好的<code>Session</code>会话对象</p>
<p><code>isNew()</code>：判断是否是刚创建出来的</p>
<p>​    <code>true</code>：表示刚创建</p>
<p>​    <code>false</code>：表示获取之前创建</p>
<p>每个会话都有一个<code>ID</code>(类似于身份证号)，是唯一的</p>
<p><code>getId()</code>：获取<code>Session</code>的会话<code>id</code>值</p>
<h4 id="2-2-数据的存取"><a href="#2-2-数据的存取" class="headerlink" title="2.2 数据的存取"></a>2.2 数据的存取</h4><p><strong>1</strong>：先获取<code>Session</code>对象</p>
<p><strong>2</strong>：调用<code>get/set</code>方法即可</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">getSession</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span> attribute <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"key1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"已经获得数据"</span><span class="token operator">+</span>attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">createSession</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>session<span class="token operator">+</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"ID:"</span><span class="token operator">+</span>session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"isNew:"</span><span class="token operator">+</span>session<span class="token punctuation">.</span><span class="token function">isNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-3-生命周期"><a href="#2-3-生命周期" class="headerlink" title="2.3 生命周期"></a>2.3 生命周期</h4><h5 id="a-基本介绍"><a href="#a-基本介绍" class="headerlink" title="a. 基本介绍"></a>a. 基本介绍</h5><p><code>public void serMaxInactiveInterval(int interval)</code><br>设置<code>Session</code>的超时时间（以秒为单位），超过指定时长，<code>Session</code>就会被销毁<br>    值为正数：设置<code>Session</code>的超时时长<br>    值为负数：表示永不超时（极少使用）</p>
<p><strong>默认时长</strong></p>
<p>默认时长为<em>30</em>分钟，<code>Tomcat</code>的配置文件下<code>web.xml</code>默认的配置</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-config</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-timeout</span><span class="token punctuation">&gt;</span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-timeout</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-config</span><span class="token punctuation">&gt;</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="b-方法使用"><a href="#b-方法使用" class="headerlink" title="b. 方法使用"></a>b. 方法使用</h5><p><strong>单独设置超时时间</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">life</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    session<span class="token punctuation">.</span><span class="token function">setMaxInactiveInterval</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"已经设置为3秒后超时"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>立即失效</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">deleteNow</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Session已经设置超时"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="3-浏览器和Session"><a href="#3-浏览器和Session" class="headerlink" title="3. 浏览器和Session"></a>3. 浏览器和<code>Session</code></h3><p><code>Session</code>技术，底层其实是基于<code>Cookie</code>技术实现的</p>
<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/Session.jpg" alt="Session和浏览器"></p>
<h2 id="九-Filter过滤器"><a href="#九-Filter过滤器" class="headerlink" title="九. Filter过滤器"></a>九. Filter过滤器</h2><h3 id="1-基本介绍-5"><a href="#1-基本介绍-5" class="headerlink" title="1. 基本介绍"></a>1. 基本介绍</h3><p><code>Filter</code>过滤器是<code>JavaEE</code>的规范，也就是接口<br><code>Filter</code>过滤器的作用：<font color="red">拦截请求</font>、过滤响应</p>
<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/Filter%E8%BF%87%E6%BB%A4%E5%99%A8.jpg" alt="Filter过滤器"></p>
<h3 id="2-基本使用-3"><a href="#2-基本使用-3" class="headerlink" title="2. 基本使用"></a>2. 基本使用</h3><h4 id="2-1-拦截访问-admin文件"><a href="#2-1-拦截访问-admin文件" class="headerlink" title="2.1 拦截访问/admin文件"></a>2.1 拦截访问<code>/admin</code>文件</h4><p><strong>思路</strong>：需要检查<code>Session</code>域中是否存在登录信息，若存在则允许访问，反之则拦截跳转到登录界面</p>
<p><strong>步骤</strong></p>
<p><em>1</em>：编写一个类实现<code>Filter</code>接口</p>
<p><em>2</em>：实现过滤方法<code>doFilter()</code></p>
<p><em>3</em>：到<code>web.xml</code>中配置<code>Filter</code>的拦截路径</p>
<p><strong>Filter类</strong></p>
<p>**init()**：<code>web</code>工程创建时调用</p>
<p>**doFilter()**：执行方法，<code>web</code>工程运行时一直执行</p>
<p>**destory()**：<code>web</code>工程销毁时调用</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdminFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 专业用于拦截请求，可以做权限检查
     * @param request
     * @param response
     * @param chain
     * @throws IOException
     * @throws ServletException
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpServletRequest</span> httpServletRequest<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span>request<span class="token punctuation">;</span>
        <span class="token class-name">HttpSession</span> session<span class="token operator">=</span>httpServletRequest<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> user<span class="token operator">=</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//如果为Null，说明没有登录</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/login.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-2-web-xml配置"><a href="#2-2-web-xml配置" class="headerlink" title="2.2 web.xml配置"></a>2.2 web.xml配置</h4><p><code>&lt;filter-name&gt;</code>：起一个别名</p>
<p><code>&lt;filter-class&gt;</code>：全类名</p>
<p><code>&lt;url-pattern&gt;</code>：拦截路径</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>ManagerFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>com.echochao.filter.ManagerFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>ManagerFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/pages/manager/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/manager/bookServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="3-Filter的生命周期"><a href="#3-Filter的生命周期" class="headerlink" title="3. Filter的生命周期"></a>3. <code>Filter</code>的生命周期</h3><p><strong>1</strong>：构造器方法</p>
<p><strong>2</strong>：<code>init()</code>的初始化方法</p>
<p>​        第<em>1，2</em>步：<code>web</code>工程启动时执行(<code>Filter</code>已经创建)</p>
<p><strong>3</strong>：<code>doFilter</code>过滤方法</p>
<p>​        第<em>3</em>步：每次拦截到请求，就会执行</p>
<p><strong>4</strong>：<code>destory</code>销毁</p>
<p>​        第<em>4</em>步：停止<code>web</code>工程的时候就会执行（销毁<code>Filter</code>过滤器）</p>
<h3 id="4-FilterConfig类"><a href="#4-FilterConfig类" class="headerlink" title="4. FilterConfig类"></a>4. <code>FilterConfig</code>类</h3><h4 id="4-1-简单介绍"><a href="#4-1-简单介绍" class="headerlink" title="4.1 简单介绍"></a>4.1 简单介绍</h4><p><code>FilterConfig</code>，是<code>Filter</code>过滤器的配置文件类</p>
<p><code>Tomcat</code>每次创建<code>Filter</code>的时候，也会创建一个<code>FilterConfig</code>类，包含了<code>Filter</code>配置文件的配置信息</p>
<h4 id="4-2-获取内容"><a href="#4-2-获取内容" class="headerlink" title="4.2  获取内容"></a>4.2  获取内容</h4><p><strong>1</strong>：获取<code>Filter</code>的名称<code>filter-name</code>的内容</p>
<p><strong>2</strong>：获取在<code>Filter</code>中配置的<code>init-param</code>初始化参数</p>
<p><strong>3</strong>：获取<code>ServletContext</code>对象</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token comment">//1.获取配置的filterName名</span>
    <span class="token class-name">String</span> filterName <span class="token operator">=</span> filterConfig<span class="token punctuation">.</span><span class="token function">getFilterName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Filter的名字："</span> <span class="token operator">+</span> filterName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2.获取filter中配置的init-param参数</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> filterConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"url:"</span><span class="token operator">+</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//3.获取ServletContext对象</span>
    <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> filterConfig<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="5-FilterChain过滤器链"><a href="#5-FilterChain过滤器链" class="headerlink" title="5. FilterChain过滤器链"></a>5. <code>FilterChain</code>过滤器链</h3><h4 id="5-1-作用原理"><a href="#5-1-作用原理" class="headerlink" title="5.1 作用原理"></a>5.1 作用原理</h4><p><strong>1</strong>：在<code>doFilter()</code>方法中，执行<code>chain.doFilter()</code>方法，就会链式一样执行下一个<code>Filter</code>方法</p>
<p><strong>2</strong>：执行顺序：按照<code>web.xml</code>文件配置的从上到下顺序执行</p>
<p><strong>3</strong>：<code>chain.doFilter()</code>方法的作用</p>
<p>​        <em>1</em>：执行下一个<code>Filter</code>过滤器（如果有<code>Filter</code>）</p>
<p>​        <em>2</em>：执行目标资源（没有<code>Filter</code>）</p>
<p><img src="https://cdn.jsdelivr.net/gh/ChaoEcho/Pictures/img/Filter%E8%BF%87%E6%BB%A4%E5%99%A8%E9%93%BE.jpg" alt="Filter过滤器链"></p>
<h4 id="5-2-实际案例"><a href="#5-2-实际案例" class="headerlink" title="5.2 实际案例"></a>5.2 实际案例</h4><p><strong>Filter类</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Filter01</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token comment">//前置代码01</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"前置代码01"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//执行过滤器链</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//后置代码01</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"后置代码01"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong><code>web.xml</code>配置文件</strong></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>Filter01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>com.Filter.Filter01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>Filter01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/admin/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>Filter02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>com.Filter.Filter02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>Filter02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/admin/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="6-Filter的拦截路径"><a href="#6-Filter的拦截路径" class="headerlink" title="6. Filter的拦截路径"></a>6. <code>Filter</code>的拦截路径</h3><h4 id="6-1-精确匹配"><a href="#6-1-精确匹配" class="headerlink" title="6.1 精确匹配"></a>6.1 精确匹配</h4><p><code>&lt;url-pattern&gt;/target.jsp&lt;/url-pattern&gt;</code></p>
<p>拦截地址必须为：<code>http://ip:port/工程路径/target.jsp</code></p>
<h4 id="6-2-目录匹配"><a href="#6-2-目录匹配" class="headerlink" title="6.2 目录匹配"></a>6.2 目录匹配</h4><p><code>&lt;url-pattern&gt;/admin/*&lt;/url-pattern&gt;</code></p>
<p>拦截地址必须为：<code>http://ip:port/工程路径/admin/*</code></p>
<h4 id="6-3-后缀名匹配"><a href="#6-3-后缀名匹配" class="headerlink" title="6.3 后缀名匹配"></a>6.3 后缀名匹配</h4><p><code>&lt;url-pattern&gt;*.html&lt;/url-pattern&gt;</code></p>
<p>拦截地址必须为：<em>请求地址必须以</em><font color="red">.html</font>结尾才会呗拦截</p>
<p><font color="red">后缀名拦截不能以<font color="blue">/</font>开头</font></p>
<p><font color="red">FIlter不关心资源是否存在</font></p>
<h2 id="十-JSON"><a href="#十-JSON" class="headerlink" title="十. JSON"></a>十. JSON</h2><h3 id="1-简单介绍"><a href="#1-简单介绍" class="headerlink" title="1. 简单介绍"></a>1. 简单介绍</h3><p>在<code>WEB</code>前端的笔记中，就有介绍过<code>JSON</code></p>
<p><code>JSON</code>是一种轻量级的数据交换格式（是指跟<code>xml</code>对比）</p>
<h3 id="2-JS中的使用"><a href="#2-JS中的使用" class="headerlink" title="2. JS中的使用"></a>2. <code>JS</code>中的使用</h3><h4 id="2-1-基本定义"><a href="#2-1-基本定义" class="headerlink" title="2.1 基本定义"></a>2.1 基本定义</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> jsonObj<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token string">"key1"</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token string">"key2"</span><span class="token operator">:</span><span class="token string">"abc"</span><span class="token punctuation">,</span>
    <span class="token string">"key3"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">"key4"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token string">"arr"</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"key5"</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">"key5.1"</span><span class="token operator">:</span><span class="token number">5.1</span><span class="token punctuation">,</span>
        <span class="token string">"key5.2"</span><span class="token operator">:</span><span class="token string">"key5.2的值"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-2-访问方法"><a href="#2-2-访问方法" class="headerlink" title="2.2 访问方法"></a>2.2 访问方法</h4><p><code>JSON</code>本身就是一个对象</p>
<p>通常是<code>name.key值</code>就可以访问该<code>key</code>的键值</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">typedef</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//object json就是一个对象</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">.</span>key1<span class="token punctuation">)</span>			<span class="token comment">//12</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="2-3-常用方法"><a href="#2-3-常用方法" class="headerlink" title="2.3 常用方法"></a>2.3 常用方法</h4><p><code>JSON</code>两种形式</p>
<p>​    <strong>1</strong>：对象形式存在，叫做<code>JSON</code>对象</p>
<p>​    <strong>2</strong>：字符串形式存在，叫做<code>JSON</code>字符串</p>
<p>一般在<em>客户端</em>与<em>服务器</em>之间进行数据交换的时候，使用**<code>JSON字符串</code>**</p>
<p><strong><code>JSON对象</code></strong>===&gt;<strong><code>JSON字符串</code></strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong><code>JSON字符串</code></strong>===&gt;<strong><code>JSON对象</code></strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="3-Java中的使用"><a href="#3-Java中的使用" class="headerlink" title="3. Java中的使用"></a>3. <code>Java</code>中的使用</h3><p><strong>需要先引入jar包</strong></p>
<h4 id="前提提要"><a href="#前提提要" class="headerlink" title="前提提要"></a>前提提要</h4><p>**gson.toJson()**：将<code>java</code>对象===&gt;<code>json</code>字符串</p>
<p>**gson.toJson(json字符串,转化类型)**：把<code>json</code>字符串===&gt; <code>java</code>对象</p>
<h4 id="3-1-javaBean和json互转"><a href="#3-1-javaBean和json互转" class="headerlink" title="3.1 javaBean和json互转"></a>3.1 <code>javaBean</code>和<code>json</code>互转</h4><p><strong>1</strong>：创建<code>Gson</code>对象实例</p>
<p><strong>2</strong>：<code>gson.toJson()</code> 把<code>java对象</code>===&gt;<code>json字符串</code></p>
<p><strong>3</strong>：<code>gson.fromJson(json字符串对象,需要转化的类[Person.class])</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//1.JavaBean和Json的转换</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Person</span> person<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"echo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//创建Gson对象实例</span>
    <span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//转换为Json字符串</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//将字符串转换为Person对象</span>
    <span class="token class-name">Person</span> person1 <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="3-2-List和json互转"><a href="#3-2-List和json互转" class="headerlink" title="3.2 List和json互转"></a>3.2 <code>List</code>和<code>json</code>互转</h4><p><strong>1</strong>：创建<code>Gson</code>实例对象</p>
<p><strong>2</strong>：<code>toJson()</code> 将<code>java</code>对象===&gt;<code>json</code>字符串</p>
<p><strong>3</strong>：<code>fromJson(json字符串,Type类)</code></p>
<p>​        <strong><code>Type类</code>**需要继承</strong><code>TypeToken&lt;E&gt;</code><strong>，</strong><code>E</code>**为所需要转换的类型对象</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//2.List和Json互转</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"echo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"chao"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"康师傅"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> s <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//需要先创建一个继承了TypeToken的类，获取其类型</span>
    <span class="token comment">//List&lt;Person&gt; list01=gson.fromJson(s,new PersonListType().getType());</span>
    <span class="token comment">//建议使用匿名内部类</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list01<span class="token operator">=</span>gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">TypeToken</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list01<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="3-3-Map和json互转"><a href="#3-3-Map和json互转" class="headerlink" title="3.3 Map和json互转"></a>3.3 <code>Map</code>和<code>json</code>互转</h4><p><strong>1</strong>：创建<code>Gson</code>对象</p>
<p><strong>2</strong>：<code>toJson()</code> <code>java</code>对象===&gt;<code>json</code>字符串</p>
<p><strong>3</strong>：<code>fromJson()</code> <code>json</code>字符串===&gt;<code>java</code>对象</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//3.Map和Json互转</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personMap<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    personMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"国哥"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    personMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"康师傅"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//将Map对象转换为Json字符串</span>
    <span class="token class-name">String</span> personString <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>personMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>personString<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Map&lt;Integer, Person&gt; map02=gson.fromJson(personString,new PersonMapType().getType());</span>
    <span class="token comment">//建议使用匿名内部类</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> map02<span class="token operator">=</span>gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>personString<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">TypeToken</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HashMap</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Person</span> person <span class="token operator">=</span> map02<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="十一-AJAX"><a href="#十一-AJAX" class="headerlink" title="十一. AJAX"></a>十一. AJAX</h2><h3 id="1-简单介绍-1"><a href="#1-简单介绍-1" class="headerlink" title="1. 简单介绍"></a>1. 简单介绍</h3><p><strong>1</strong>: <code>AJAX</code>即**<code>A</code><strong><code>synchronous</code> **<code>J</code></strong><code>svascript</code> <strong><code>A</code></strong><code>nd</code> <strong><code>X</code></strong><code>ML</code>（异步<code>JavaScript</code>和<code>XML</code>），是一种创建交互式网页应用的网页开发技术</p>
<p><strong>2</strong>：<code>AJAX</code>是一种浏览器通过<code>JS</code>异步发起请求，<font color="red">局部更新页面</font>的技术</p>
<p><strong>3</strong>：<strong>局部更新</strong>，浏览器地址栏不会发生改变</p>
<p><strong>4</strong>：<strong>局部更新</strong>，不会舍弃原来界面的内容</p>
<h3 id="2-原生AJAX请求"><a href="#2-原生AJAX请求" class="headerlink" title="2. 原生AJAX请求"></a>2. 原生<code>AJAX</code>请求</h3><h4 id="2-1-步骤"><a href="#2-1-步骤" class="headerlink" title="2.1 步骤"></a>2.1 步骤</h4><p><strong>1</strong>：创建<code>XMLHttpRequest</code>对象</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> xmlhttprequest<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>2</strong>：调用<code>open</code>方法设置请求参数</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">xmlhttprequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>Method<span class="token punctuation">,</span>Url<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token operator">/</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>Method</strong>：字符串形式，设置为**<code>GET</code><strong>或</strong><code>POST</code>**</p>
<p><strong>Url</strong>：字符串形式，为所跳转的地址<code>http://ip:port/工程路径/目标文件路径</code></p>
<p><strong>True/False</strong>：是否开启<strong>异步</strong>，一般情况是开启**<code>true</code>**</p>
<p><strong>3</strong>：在<code>send</code>方法前绑定<code>onreadystatechange</code>事件，处理请求完成后的操作</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">xmlhttprequest<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//确保响应码为200（OK）并且状态为4（已返回）</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xmlhttprequest<span class="token punctuation">.</span>readyState<span class="token operator">==</span><span class="token number">4</span><span class="token operator">&amp;&amp;</span>xmlhttprequest<span class="token punctuation">.</span>status<span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> jsonObj<span class="token operator">=</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xmlhttprequest<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"div01"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"编号："</span><span class="token operator">+</span>jsonObj<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">"，姓名："</span><span class="token operator">+</span>jsonObj<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>4</strong>：调用<code>send</code>方法发送请求</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">xmlhttprequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="2-2-实际案例-1"><a href="#2-2-实际案例-1" class="headerlink" title="2.2 实际案例"></a>2.2 实际案例</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">ajaxRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//1、我们首先要创建XMLHttpRequest</span>
    <span class="token keyword">var</span> xmlhttprequest<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2、调用open方法设置请求参数</span>
    xmlhttprequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span><span class="token string">"http://localhost:8080/Json_Ajax_i18n/ajaxServlet?action=javaScriptAjax"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token comment">//3、在send方法前绑定onreadystatechange事件，处理请求完成后的操作。</span>
    xmlhttprequest<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xmlhttprequest<span class="token punctuation">.</span>readyState<span class="token operator">==</span><span class="token number">4</span><span class="token operator">&amp;&amp;</span>xmlhttprequest<span class="token punctuation">.</span>status<span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> jsonObj<span class="token operator">=</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xmlhttprequest<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>

            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"div01"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"编号："</span><span class="token operator">+</span>jsonObj<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">"，姓名："</span><span class="token operator">+</span>jsonObj<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//4、调用send方法发送请求</span>
    xmlhttprequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="3-jQuery中的AJAX请求"><a href="#3-jQuery中的AJAX请求" class="headerlink" title="3. jQuery中的AJAX请求"></a>3. <code>jQuery</code>中的<code>AJAX</code>请求</h3><h4 id="3-1-ajax"><a href="#3-1-ajax" class="headerlink" title="3.1 $.ajax"></a>3.1 <code>$.ajax</code></h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ajax请求</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#ajaxBtn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span><span class="token string">"http://localhost:8080/Json_Ajax_i18n/ajaxServlet"</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span><span class="token string">"action=jQueryAjax"</span><span class="token punctuation">,</span>
        <span class="token comment">//data:{action:"jQueryAjax"},</span>
        type<span class="token operator">:</span><span class="token string">"GET"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#msg"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"ajax编号："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">"，姓名："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        dataType<span class="token operator">:</span><span class="token string">"json"</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>url</strong>：表示请求的地址</p>
<p><strong>data</strong>：表示发送给服务器的数据</p>
<p>​            ①{key:value}<br>​            ②”key=value&amp;key=value”</p>
<p><strong>type</strong>：<em>GET</em>/<em>POST</em></p>
<p><strong>success</strong>：成功之后的操作，类似于2.1中的<code>if(...)</code>判断</p>
<p><strong>dataType</strong>：响应的数据类型，<em>xml</em>/<em>json</em>/text</p>
<h4 id="3-2-get-post"><a href="#3-2-get-post" class="headerlink" title="3.2 $get/$post"></a>3.2 <code>$get</code>/<code>$post</code></h4><pre class="line-numbers language-java" data-language="java"><code class="language-java">$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/Json_Ajax_i18n/ajaxServlet"</span><span class="token punctuation">,</span><span class="token string">"action=jQueryGet"</span><span class="token punctuation">,</span>function <span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    $<span class="token punctuation">(</span><span class="token string">"#msg"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"get编号："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">"，姓名："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">"json"</span><span class="token punctuation">)</span>

   $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/Json_Ajax_i18n/ajaxServlet"</span><span class="token punctuation">,</span><span class="token string">"action=jQueryPost"</span><span class="token punctuation">,</span>function <span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
       $<span class="token punctuation">(</span><span class="token string">"#msg"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"post编号："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">"，姓名："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">"json"</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="C:\Users\echoc\AppData\Roaming\Typora\typora-user-images\1629163351036.png" alt="GET/POST"></p>
<p><strong>依次按照顺序</strong>：</p>
<p><strong>url</strong>：表示请求的地址</p>
<p><strong>data</strong>：表示发送给服务器的数据</p>
<p>​            ①{key:value}<br>​            ②”key=value&amp;key=value”</p>
<p><strong>success</strong>：请求成功之后执行的操作</p>
<p><strong>dataType</strong>：响应的数据类型，<em>xml</em>/<em>json</em>/text</p>
<h4 id="3-3-getJSON"><a href="#3-3-getJSON" class="headerlink" title="3.3 $.getJSON"></a>3.3 <code>$.getJSON</code></h4><pre class="line-numbers language-java" data-language="java"><code class="language-java">$<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/Json_Ajax_i18n/ajaxServlet"</span><span class="token punctuation">,</span><span class="token string">"action=jQueryGetJSON"</span><span class="token punctuation">,</span>function <span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    $<span class="token punctuation">(</span><span class="token string">"#msg"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"getJSON编号："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">"，姓名："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>依次按照顺序</strong></p>
<p><strong>url</strong>：表示请求的地址</p>
<p><strong>data</strong>：表示发送给服务器的数据</p>
<p>​            ①{key:value}<br>​            ②”key=value&amp;key=value”</p>
<p><strong>success</strong>：请求成功之后执行的操作</p>
<h4 id="3-4-serialize"><a href="#3-4-serialize" class="headerlink" title="3.4 serialize()"></a>3.4 <code>serialize()</code></h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">$<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/Json_Ajax_i18n/ajaxServlet"</span><span class="token punctuation">,</span><span class="token string">"action=jQuerySerialize&amp;"</span><span class="token operator">+</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#form01"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#msg"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">" jQuerySerialize 编号："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">"，姓名："</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><code>serialize()</code>将表单中所有表单项的内容都获取到，并以<code>name=value&amp;name=vlaue</code>的形式拼接</p>
<p><strong>提醒</strong>：转换的字符串最前方不带<code>&amp;</code>/<code>?</code>，考虑实际情况自己添加</p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 echochao@126.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>JavaWEB后端</p>
    <p><span class="copy-title">字数:</span><span class="post-count">15.7k</span></p>
    <p><span class="copy-title">本文作者:</span><a  title="EchoChao">EchoChao</a></p>
    <p><span class="copy-title">发布时间:</span>2021-08-19, 13:34:10</p>
    <p><span class="copy-title">最后更新:</span>2021-08-19, 13:35:51</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/posts/2250.html" title="JavaWEB后端">http://echochao.xyz/posts/2250.html</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">&#34;署名-非商用-相同方式共享 4.0&#34;</a> 转载请保留原文链接及作者。
    </p>
</div>



    <div id="comments">
    <script src="https://utteranc.es/client.js"
            repo="ChaoEcho/C-Code"
            issue-term="pathname"
            theme="github-light"
            label="utteranc"
            crossorigin="anonymous"
            async>
    </script>
</div>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2020-2021 EchoChao
</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
        /* 渲染*/
        function HTMLDecode(text) {
            var temp = document.createElement("div");
            temp.innerHTML = text;
            var output = temp.innerText || temp.textContent;
            temp = null;
            return output;
        }
        if (window.mermaid){
            window.mermaid = null
        }
        $.getScript("//cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js", function () {
            var mermaidOptions = JSON.parse(HTMLDecode("{&#34;theme&#34;:&#34;default&#34;,&#34;startOnLoad&#34;:true,&#34;flowchart&#34;:{&#34;useMaxWidth&#34;:false,&#34;htmlLabels&#34;:true}}"))
            if (window.mermaid) {
                mermaid.initialize(mermaidOptions)
                mermaid.contentLoaded()
            }
        })
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #616161;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://raw.githubusercontent.com/ChaoEcho/Pictures/main/img/20201128190457.jpg");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>

<span id="busuanzi_container_page_pv">
  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
</span>


</html>
